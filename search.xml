<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>工作流接口服务</title>
      <link href="/platform.github.io/2022/09/06/%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8E%A5%E5%85%A5%E5%B7%A5%E4%BD%9C%E6%B5%81/"/>
      <url>/platform.github.io/2022/09/06/%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8E%A5%E5%85%A5%E5%B7%A5%E4%BD%9C%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<ol><li>启动<br>POST: &#x2F;runtime&#x2F;instance&#x2F;v1&#x2F;easywebWorkflowStart</li></ol><p>请求头参数：</p><table><thead><tr><th align="left">参数名</th><th align="left">说明</th><th align="left">值</th></tr></thead><tbody><tr><td align="left">Authorization</td><td align="left">用户认证信息</td><td align="left">Bearer 用户认证信息</td></tr><tr><td align="left">Content-Type</td><td align="left">类型</td><td align="left">application&#x2F;json</td></tr></tbody></table><p>最请求参数示例：</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>         <span class="token property">"formType"</span><span class="token operator">:</span><span class="token string">"frame"</span><span class="token punctuation">,</span> <span class="token comment">//表单类型</span>         <span class="token property">"businessKey"</span><span class="token operator">:</span><span class="token string">"17231238972"</span><span class="token punctuation">,</span> <span class="token comment">//业务主键</span>         <span class="token property">"flowKey"</span><span class="token operator">:</span><span class="token string">"cs1"</span><span class="token punctuation">,</span> <span class="token comment">//流程key</span>         <span class="token property">"account"</span><span class="token operator">:</span><span class="token string">"admin"</span><span class="token punctuation">,</span> <span class="token comment">//账号登陆名</span>         <span class="token property">"sysCode"</span><span class="token operator">:</span><span class="token string">"123456"</span> <span class="token comment">//额外参数，用于区分不同的流程或者系统</span>         <span class="token property">"vars"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>     <span class="token comment">//设置流程变量</span>          <span class="token property">"additionalProp1"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>          <span class="token property">"additionalProp2"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>          <span class="token property">"additionalProp3"</span><span class="token operator">:</span> <span class="token string">"string"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>办理<br>POST: &#x2F;runtime&#x2F;task&#x2F;v1&#x2F;easywebWorkflowComplete</li></ol><p>请求头参数：</p><table><thead><tr><th align="left">参数名</th><th align="left">说明</th><th align="left">值</th></tr></thead><tbody><tr><td align="left">Authorization</td><td align="left">用户认证信息</td><td align="left">Bearer 用户认证信息</td></tr><tr><td align="left">Content-Type</td><td align="left">类型</td><td align="left">application&#x2F;json</td></tr></tbody></table><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"account"</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>  <span class="token property">"actionName"</span><span class="token operator">:</span> <span class="token string">"agree"</span><span class="token punctuation">,</span><span class="token comment">//流程操作agree（审批）abandon（弃权）oppose（反对）agreeTrans（同意流转）opposeTrans（反对流转）commu（沟通反馈）reject（驳回）backToStart（驳回指定节点）</span>  <span class="token property">"agreeType"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"backHandMode"</span><span class="token operator">:</span> <span class="token string">"direct"</span><span class="token punctuation">,</span>  <span class="token property">"data"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"destination"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"directHandlerSign"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token property">"files"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"formType"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span> <span class="token comment">//表单类型</span>  <span class="token property">"instId"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span><span class="token comment">//流程实例id</span>  <span class="token property">"interPoseOpinion"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"jumpType"</span><span class="token operator">:</span> <span class="token string">"free"</span><span class="token punctuation">,</span>  <span class="token property">"nodeUsers"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"notifyType"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"opinion"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span> <span class="token comment">//流程意见</span>  <span class="token property">"rejectType"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"statusName"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token property">"taskId"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span> <span class="token comment">//任务id</span>  <span class="token property">"usersMap"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"array"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"bigDecimal"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"bigInteger"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"binary"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"boolean"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"containerNode"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"double"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"float"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"floatingPointNumber"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"int"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"integralNumber"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"long"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"missingNode"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"nodeType"</span><span class="token operator">:</span> <span class="token string">"ARRAY"</span><span class="token punctuation">,</span>    <span class="token property">"null"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"number"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"object"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"pojo"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"short"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"textual"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token property">"valueNode"</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"vars"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token comment">//设置流程变量</span>    <span class="token property">"additionalProp1"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>    <span class="token property">"additionalProp2"</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>    <span class="token property">"additionalProp3"</span><span class="token operator">:</span> <span class="token string">"string"</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>待办<br>POST: &#x2F;runtime&#x2F;task&#x2F;v1&#x2F;easywebWorkflowGetTodoList</li></ol><p>请求头参数：</p><table><thead><tr><th align="left">参数名</th><th align="left">说明</th><th align="left">值</th></tr></thead><tbody><tr><td align="left">Authorization</td><td align="left">用户认证信息</td><td align="left">Bearer 用户认证信息</td></tr><tr><td align="left">Content-Type</td><td align="left">类型</td><td align="left">application&#x2F;json</td></tr></tbody></table><p>待办实际办理url维护</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">  <span class="token punctuation">&#123;</span>  <span class="token property">"pageBean"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"page"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token property">"pageSize"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>    <span class="token property">"showTotal"</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"querys"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span>      <span class="token property">"group"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>      <span class="token property">"hasInitValue"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"EQUAL"</span><span class="token punctuation">,</span>      <span class="token property">"property"</span><span class="token operator">:</span> <span class="token string">"var_aa"</span><span class="token punctuation">,</span>      <span class="token property">"relation"</span><span class="token operator">:</span> <span class="token string">"AND"</span><span class="token punctuation">,</span>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"2"</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"sorter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span>      <span class="token property">"direction"</span><span class="token operator">:</span> <span class="token string">"ASC"</span><span class="token punctuation">,</span>      <span class="token property">"property"</span><span class="token operator">:</span> <span class="token string">"complete_time_"</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>已办<br>POST: &#x2F;runtime&#x2F;instance&#x2F;v1&#x2F;getDoneList</li></ol><pre class="line-numbers language-json" data-language="json"><code class="language-json">  <span class="token punctuation">&#123;</span>  <span class="token property">"pageBean"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"page"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token property">"pageSize"</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>    <span class="token property">"showTotal"</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"querys"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span>      <span class="token property">"group"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>      <span class="token property">"hasInitValue"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"EQUAL"</span><span class="token punctuation">,</span>      <span class="token property">"property"</span><span class="token operator">:</span> <span class="token string">"var_aa"</span><span class="token punctuation">,</span>      <span class="token property">"relation"</span><span class="token operator">:</span> <span class="token string">"AND"</span><span class="token punctuation">,</span>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"2"</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token property">"sorter"</span><span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span>      <span class="token property">"direction"</span><span class="token operator">:</span> <span class="token string">"ASC"</span><span class="token punctuation">,</span>      <span class="token property">"property"</span><span class="token operator">:</span> <span class="token string">"complete_time_"</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>待办、已办对于业务字段作为查询条件或查询字段</li><li>设置流程变量<br>对于业务表不再流程服务的库中，又需要在流程待办以及已办列表中显示对应的业务数据的解决方案：</li></ol><p>方案基于流程变量的方式来实现</p><p>1.     需要在流程设置的变量管理处，先添加上对应的需要用来保存业务字段数据的流程变量</p><p>2.     在启动时需要在调用启动接口时传入额外的参数vars来对这些业务数据的流程变量进行设置值：</p><p><img src="data:image/png;base64,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f609hNjyoak/0u514XmM6F39ybXodeVl/M5nL5Nz6MBK4YrUvSrGx9ZWSmRyAM6RCxDI337t0y9f//x+2N+7/7FLlz75+02Fjb7/u69cuvSJ11bKR9/+/V+68tE731gpBwAAgGlLD+Tf/eInXrry6a98O/34B7906dLHf3evrDDH1z7z4qWrn397pbyw99onX7z0sd/6flsOAAAAk5YdyJ989uWXPvFan8bfee/1my9d+tDtN4oKs3z11kuXXv7c6yvltdD4gavoAAAAMFpyIH/99ssvvnr/G7lk/9c+dOnFD7/6yQ+9eOlSt/MbT/ryt7/y2Y9fCWWXrrxyZyj87qOuMJS99MlXPnLpxV/+SlcYk/mv9X+P993ffeXSlZtfHxp/793fefUoaR8AAICLacGB/LVPv1gF5vgH5Fc+/do3v/Xe9770qy9devEzX+rKw3vauyD9+t57777xz7oKL38u/LX5Vz790qXLr95/4wfvfutrv3I5/wH5a5+8dOlTfxBa+/bvvPriL956PTf+znvf/PxHLn34zjeLEgAAAFhruYH8a5958aXPfrUoKf+A/Gu3r6RA/ge//OKlj3yhX/R+83O/eOnKZ9989407V7tHY/Cu/4D87S98+NLLn33r3b2vfOryB6vGQ4Z/8cVPf60sAQAAgLUWG8hfv/3ypVfvFyXlH5B/4/PhXeivvfPeG599+dLlYaH7yZDDf//VS/nY+g/In3z2g5c+8cWvfPqlau09+PpnL6cldwAAAJhh2YH8i2NJ+APySx+69fq33vveV+9cv3zpavwitPA+80sf/+033nv3W1//tQ+/eOmj/yx8ddnvdIH85c99rSt867dfean/A/LkS78c/ti8frN659u/9XF/QA4AAMAhLDaQh78Y/2AI1eOPH/nMzS5eX7r04suf+p34teTBm1945YPhs9suffD6za8MfwH+ZgjnXcUP/dJnX/1g9dnp4b3u7ZvV3/3GFz95OQb4shAAAAAOsNhA/s73f/eVSy9t94+6977+uQ9devmzb1aFb3Rp/KVP/v53q0IAAAA42HID+Xvvvv4bVz/0q4++tVJ+FPtf+HBYRf/YZ1/P32rel3/05V/5A2kcAACAQ1pyIAcAAIAzSyAHAACAHRDIAQAAYAcEcgAAANgBgRwAAAB2QCAHAACAHRDIAQAAYAcEcgAAANgBgRwA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" alt="图片"></p><p>vars参数示例：vars:{“流程变量名1”:”流程变量值1”,”流程变量名2”:”流程变量值2”}</p><p>3.     在办理时如果业务数据有对应的修改，也可以根据启动接口的方式通过参数vars传入对应的流程变量数据</p><p>4.     在非办理期间业务数据修改可以调用对应的流程变量修改接口，进行修改流程变量数据</p><pre><code>流程变量修改接口：![图片](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABRUAAAJdCAIAAAAjtgerAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAE/uSURBVHhe7d37k1zXYR94/Uf7y/7GXxZZr2OXU85if9iqrVQq63grQYxkpTIie/PYeCw4g9IwhDmkhKW4RESFWo1EDzOUSZt6WJY0ksCBLFCkAhu0CBEGHyL4EAgRJKiHXdrzuI9zb3fP7ekZYO4An1OfYnWfPvfcc083u+93zu3GB36mKIqiKIqiKIqiKMpQkZ8VRVEURVEURVEUZbjIz4qiKIqiKIqiKIoyXORnRVEURVEURVEURRku8rOiKIqiKIqiKIqiDBf5WVEURVEURVEURVGGyyL5+aeKoiiKoiiKoiiKchuVKu5uW3aQn0OP77///o0bN95TFEVRFEVRFEVRlNuohKgbAu/2QXre/PyTn/wk9PjjH//46tWrb7311ptvvvmGoiiKoiiKoiiKohzwEuJtCLkh6obAG1J0CL9VDJ4oc+XnEMFDeH777bfPvvbX//H7T/z2hc/96nfuBQAAgNvAsQufC1H32699P8TeEH5nrULPlZ/ff//9EMRDXx/8y7X/+sNzr7539cqNawAAAHAbeOW9qyHqfuiv1v7ite+H8BsicBWGu2U4P4fkfePGjatXr/7B9/849NjbDQAAANwGQuD9g+8/EcJviMBTl6Dnys/vvffem2+++dt/9VkrzwAAANyWQuD97b/6XAi/sy7h3kF+/tXv3NvrHQAAAG4bIfbuQX5+4403evn5v/34ld99/o/+4TP35+9bH3ThQMLhhIMqjxEAAIA7R8iGIfzufX7+0F+tNeHzthEOqjxGAAAA7hwhFe59fv7he1cPP/PxJnbeNv6X755qjhEAAIA7SkiFN2X9ucmct5nyGAEAALhzhEgoP+9AeYwAAADcOUIklJ93oDxGAAAA7hwhEsrPO1AeIwAAAHeOEAnl5x0ojxEAAIA7R4iE8vMOlMcIAADAnSNEwrHl57986Rfd8v5flg0eeOcnVX0sP/rSzId+8dKbX3vu59XtbulstSPlMQ7YWr3r0LG1SxP1t8CljaOHDt91ZONCr343bt7hpNEub03U920tHzp8dP3iRP1i9ra3m2beybm5Nleqp35z5fBd4aXVal4SF9eOrG6GG/F10mtz+K6Vrbqr0Kz7Kmrat23iXvbyqYlzmMY2hwvrx8qRRJc2lpvBdI+uHeTUo66lpy8cePeg4qim/w+VJnl1c6LPKXOyzaHNGNIBeM0DAIxYiISjz8+hVBH6a1Pz8Etvxg174TmUkJ+fnZ6f37r5+TmeLvdPxPdUPMmelZCrU+d5M8Mcph1O3MteJOr5ImIMNnMdURpqTguz/4Iwd2/bmjbyiYSZLPxKmDU5+Skuuk1HdLOSdpmfy1009Wna03xurfYTWhhqM85wOOFJKaPd5MyUjxYWD37TQuaUnDy7vj3q4lhCy3ZIzVHXN5pHw41mxkI/R9c3licOLQkjjH/TCbd7XWV1h1Wb2epnZPKJmFUJAMDcQiQcZ35+8wtf+Mjf+8JHPvaj91PijSvGdUJ+/7sX4kPBF66nivjo13K0vv6jL+SH/t6FS8++ee8vfzW3fPZyfLDZ8O6Jnc6rPMbtxFP2vciWs22Xn/fc1MOJOWcvjnFWROyYWL4bkFL0zPnZaW8zbDfy7Qcwt5m76PW/R7ubVKbZIxtrU9efizbLK9PSb5E5O8cSjq4XVmNXq8vdlJ4r2wAc7u7oSOMc7io/x9QaK+MkNwOrA226W87ShGlPX4jB0//fabudnp/blk2D8NCUXcwYUr8TAAB2IkTCcebneon4xcspI4e71br05VdO/HLT+Fs5GJdLzc212Xe3zapt33/2paZmQeUxbiOehXdP8WPcjafgzfJRdfYc69uT+/Ki4ng7nBanBp0T36amVe0rhah+ZZTGs7qcHl3eqsbQnnOnkFZtNStUlIcz5dS8CQPdMXR6m/FQJyJOjK1t0+aNNANl/EhbTe5rVsrq9pZU+826GaN4qOmwnLFad8xTB7CXkxOflPYo4kPtsLvDKwc263W4rdC4ahY27/bWbB7Gn17G261wtv1UwjjLSQh36xmrx5mmpTNR6eU365mdKs7GLvNzEEfSObT6/4Lu8x5sLU8OLzaux9AZT+y26qHzv9W212/nSe7k59BPd26nPhHbPTsAAAwLkXDU+fmBd9L6889eeuCll1OQfvOLncZfe/Znsfb6O1/75RcuVavRsfzkuU5UvsX5eeJUu4p8Qf88PtU3lWUKqhLOtLAUpFwxM0X0H02bx67q3aUGOSekrFXudOIMe8rhBBNDSsJJfxM/UgBoNuweaeiz3jYNIB3mzIOK++rUp8mpdzRtJDO7CiZ66zUOnXeekXpHqVkZrtIBTsSnbNoA9nZyyicu9tbOQOitGVXqufNQ2O/k63A7WyHWxq3y66c83m3zc3EUyZSnKRxCOZ+tdLDp9R8VbVInVX1x7LmmPqheTZyo/FDuNt6O/TTdppmsN+k+xdVD3WH3Vf+rzpY2j12FG1MbN/3nEW67u3B0+WXQyc/hobhtvNE7nGnKJxEAgPmFSDjO/Nwpl1+7+1dfeqleiC4bV8vO16997Ve/c/cvfeEL301xOpf8veiiz1uVn7thJusGpFn18dy6jh9lcqsiQXHWm86ze/Gs1X80pY46NsT6tkFvYHWD6m407XCC1Oe2J/rdQ8jJrT66QjrdTwto06eoOy2VYthpwzLzNJXT52eyt7zrKaGif4xxKooR9p+U0jYDyHY/Oe0uek9iR3eQ27WcYXNldTnm5LC7eGV16K3QTE4e4bG19bi7CcfW/iKuLa9V/fQezY499J+bbNx9XaVDSNLIw912YvOV1fF2OLQ0gWFiu5vHOYwbxmOvG8dntrodn4h6ftLY+q+lsGHqsB1Go53J0OGUV0LY9XavgcbFtZXU7NLG8pFj8TvSKxvTZml1M3Q4MbxCfI7ykIrxtJXxELbbHACAASESjj0/X37lI+lK7P9WX6o9pfHl16ua/IXn6nvRP3/5gU6zW5Sfy9P0TuW03NKtL6NdJ1/1UlB1oj/z1Lz/aMqBcS/xRqxvGqQbnXP0oDPOqYcTpD67QSVLka/trdg2HexEfaf9tA7jsU9MXdoqTkhzo9Ng9vxM7a07D02O7Qy4Uoyw/6SUZgxgTyenfgq6L5X2oWbDdpDd19sc0q9Pd38/LBxaPZL0aL2v6gVWz17RLNhaDWMo1quTcHTdYRemXQWdhWnvPFQ8d6m3PJPt8xLnMCX/Yl9xzPlut7e2vlAcfueI+hvWs93RtqknpDrqcDfOWNnnhfWNtTSBF9ZX68rw5Hafr95LqNVpNnM8E0cHAMD8QiQcZ35ufySs+RrzF6vrs9t/fepL+cfFfnbp1He+9tz7TVq+94Fr6YGfv7Qf+blczmrNyi3d+lufn9MAZvYTTD+cIPXZjUP1WXvdvnsIhdysOtIqD4ThTT+oOMIpnaTGK1vNoU15dNpxzeitlZ6R6hBmdF7bYX7e+8lJjy6vp/+2w0gtm2F3B9l9vc1hayM8xd38nKNj/jp9/OZtahl2GruNDdJ4wk4b9Uu67adSJcm2Jh/7VE0nZXBN7as+4+22tzwJ6aE0S0ePdC6saBsXvXXqC2nYeYk4PGtp9mKfnWkMG055JYRmbef1XwTCHuMumhlr5iSupYd+8pHGkfQmoRxY1Ul1N0x7Oz9JMZ5qR/F2dysAAHYqRMKR5ucpWbf+tbBuef+7L9zdXMhdlutvf6Xe9tbl53TW2zmxzmblltS+OoFObZrz4O3zc27cnHn3pPDQSwVp7/FGrC8a5HTRnnxfvFD0OetwojSk3ll75zBTg+YQOtkp7bQ6nInbnT7LR7vy1B2d/kva/RmoTO+tCBhBHHYRaTq5pTM5ubcZgWTKAPZ+cvJeQj+d56gz5vyiag65M4a5NcMLm+euwuRPjCR0G/57bG2rm4qL36zqHGYQjmj67PX7D3fbZy1MXT2x8XCqHpqj3lqrNoyTE7eK8xYPOb5g6g3j7bxhOcP9p7uSJq37kpiYw9hhrJ/QvAbCsFPP9aHlGavmJFb+50fWtppHm57D7mY8X9U8xPG0k5PMHEw2cYAAAMwpRMKDk5+/c+8vt/9mVSo/u/SxL1Q/x33q7bwYXZXLr3zkl77VbHjL8nM8Ze+e/lZm55Z8Oh7lr7nWm3dP5VPc6p4lx8bVCXE/SKeHivCWzqfLCNFtkCJE3VV5ej3zcLLyNL0z7LqfNt5c2ljr/stGbbedAFP3WY+hHnD1aFfeV/fYcy7taKd9em9bG8srnbzRnefiiILe5uXuOrGk/xQkezw5U2uiYlT559abHma/DrdT5ue623S73W843vST0eGQey+n4nDmy89p6rr1YV/Fk1JNY+y23dfqWpiKtFU1J0HuJLapDjmPP3QV2zS7aKer7aTYYzq06kbuNn85uXMsocNihLWw6/o1EDqsB5w3rLpt8nPePNxon/0oHOzU56seTNLdpKcZPwAAuxUi4djycwzJf69OxVN8q7quO/pq8S85f+tEW19c9Z0N9Dm38hinaE+Obwv7fzgxJGybDXZkb3u7g9S5N05gJyXG5Fn/S0vVz4NNpOKJ9eccYieEjJeDcfOSKyLi5F89bq6JzJmOsfviycM7tvZU+9eKWdJfMdLKfOfo4i7qtF/VV/m5jfQdy0+FHvLtpp9qq7rNnONptwUAYH4hEo4uP49ZeYwT0vn0rT7Rv3n2/3BSKujkhN3Y2964nfX+BAAAAEmIhPLzDpTHCAAAwJ0jREL5eQfKYwQAAODOESKh/LwD5TECAABw5wiRUH7egfIYAQAAuHOESHhT8vPRv/z/msx52/jQX62VxwgAAMCdI6TCm5Kf/9uPX/m/nl//h8/c34TPAy0cyL/968fCQZXHCAAAwJ0jZMObkp8BAADgdiI/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBhe5mfAQAA4DZm/RkAAAAGyM8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABg2jvy8tXp0/WK6vbV86PBdXctbudnW8pGNC6lxr0FybO1S1duF9WN3rWzl221NblbWh35yh2OyuXK4noqJI21Ge2njaFk/Ic1YnMm2q+ji2pHuDDRyhytb7UQ1prQPPbez3RPG3+8hG99UAwAA7MgI8/PqZvFQyGOT+bkbC4OQDJtEl2+nrFiHt4n220XQeneLmIzuVeXU9BjH0DnYrI3QIT83vYXGZX6ubjfT1c5AMWO5q43JP0lUVrbquFsNIwy1c/hhR9Py9tTDzMq9F+rnDgAA4MDa7/zczbHLW9PXn+uYl+6ubLv+XObMJIS9fn5OOz16pB8C416KbePdGSlxlj3Jz43OyMvj6k7apKl/Apg5jOJvFqHNlPw8tLuk6qF8pjqm7xoAAODAGMX6cwhddVDc2fpznTA7q6+9tNxJoUGZWuMF0ul2ulK6Fzv3OT/HR5tF9XS3zM9Fh70DrGasObSsvBs2rwbZ/WvFkY3NMNSyJugfTrOS3H+msuL5Kll/BgAADrwx5OfqWuuUuxbLz1XjHIMH8nMhJtsiKxbBr3P5d64vGjcjbJpVQTe2qQJnfii2jJVtemwj6/J6Pz/HxB4eio1js24Qrfc1EURnHmCTwHtZurdJbNZ5dLoqdXfzc5Hkq8Fvb2LwAAAAB8UI8vOljeUjx+LV1DHstfGy0ebneHd1M4XkKY78P7936NjySj9M9uJlTLP1Jr2WRQKMeTLebVZfwyCrxinHpvqiwcW19Xgjdh5r2jZVZZs5m522ATs3qxSJdIYpUzSh7LYO3n1F5j907OhK2OnUnusE3hxCeyxpL534HfZVdds26N8GAAA4kPY/P2+uHFtbT0vKcWF5IwWt8nLfi5tb3y6XXss8XN7OETfXpExYhsBWd1E3ZuBeTaOTnwux8yY/d7NufqhXHyvz3TaFJlMXfuv8PPUQ2oOd8iNq29ZPCjvKUX/l2NGQn4+Uf03oxt2qZX13Uj3m2Vk9kJ8BAICDbb/zc45ebeqrklsVa/NSc5XNqlAdguXRldWJX7Sq4ll8tBsgp9Z0ty01y6fd/BzGWTbrx8V2771Oqsp65J1AHvucSJWdLFr2E2amuDtrEb6zqN70UM1qNRXtLnLezn+zCI2bwUwsF/cOv9SJ1uWYy04mOgQAADho9n39eWsz5eRefq4CWxPz8kPpbozW60UCjNrsV0XE9qEpNa0ySSZxMbzOqEV+Dv23ubTJw/lu0Cw454Qc/1vExaZ9f8OYgSdSZR5Svlw8TkJuEKalu04+1/pzk1qLPz3kbqth5LjbNIuH2Y/H5YB70xWHV0T6SH4GAABuW/uen5OJ/HxhfSN9z7kMXTkEpga9ILdgfo5xsXvxdhn/ZuXnMICcKi+uxe8Mp8b1hdkxIadN4rb14NvYHANns8fUz2SqTG2K+txs4iLzedafQ5s8/vpGLz+HQf6L1VBfzXm1VTRZU6szc/Mng+LRaqiz9cI2AADAQTLC/JyyVp33wu02cOZ/YCk8VIXMUhtWe2l5siZK+bMfSnu5sd5LbNbucXWtycNtiK2SYRxwjqxVhI71sbKJmuUmW6HPvLuw3zpbNqG3nYqNvCzcOYo51p/DANLt2E8+0moqqvzc/LGge9TRZE0lHks1/mB6m9rMTgAAAA6ikeXnkB57q5ppwfMPf79JkinyVQmwaTax/tzG3Z6wecqldcqN2kzbzai3TP+o43J3GEwv3qdAfviu3/39ZrTbWN4Kh5kjettPNTlNMq92WgXdbjYuFHvszk/dT/TRP5z5y2GF3pMLAABwcIwjP9/Z6ljbrwcAAGA85GcAAAAYJj8DAADAMPkZAAAAhsnPAAAAMOzA5uf0u9zVv/k0RfwJ64l/niqKvzJd/vj2wuKvdtc/Bh5urE/8cnjfzCFtb9aAtz2QuK+J3ySLP5e9wwGkX9ju7iX+DHj6J7X6Xc2ah/Tz5r3GO+6k7yBNZuy8+BHyZqu5JyEOoOih/VfBuj1MebIAAIA9JD8vpuw/5JbVzcl/eavvVka+9OiUHLvDf5A5HtSx+h+proSej65vTTuW6fMQMt7RI/2h7rSTCQdpMjubxw2r1+3ckxAPtgnwMTPXvU30EDbc5n8KAABgVw5sfh5ws/NzGVRS2gl5fqDbWxr5Jv++kNYqd3bgYZPlrU54C1Jmu7i5MpnTps5DXdkdzA47mXSQJjN23sbv9pUz9yR0n4LijwsTPbSdAwAAe26/83MvmbR3QxKoLlitk0OOTLm+H8linsntiyW7nP26nXSTUlwMzA3armKDYpNyua+wfVBpB58GnFt2Il+zl2ZH2cSBVANu23fr6w2nT1fRc2wwbe/VImruLe+9ahZnOD4aH5oyA5UZ81OpB9kbzI4c+MmMd8sdzZiu2TNZ7n37mWzmBwAA2Hv7vv7cyQMxQqQYs7lSXxzbXu8aW7YXzZb5eWu1DjMx2KTecuO6QWxcBZ42KRVX0qbbqefmRmy5EW5MTzV1tuxUVtKu6zCWQlQ7/nYM7ebNmKceSG7cTFHbeXsgZQ/pdruXZuTFcYXBL0/trciEVU3bfz1RE2anvqA95DiAmc22cTtMZr5bW2AmU89ND9tNYzstAADAntv3/FwmkzauFEJlG5nqYNPNz4UQQlKbbuMcTjpJqdeg3kuMRjMTTq0Z0jS9aN2Os8k2E4c5LVvWB9JNbkEd3uoD6TdoNizHWVR2zOqkl8Sa2duZzlRMHPU8bovJ7NyNh7DTeei8VmNv5Zz0teMEAAD21v7n5/aMv0g+MbA1C25V3ugkuiJK5RRUtI8Zptu4l23qBp2t6lST8kl7d7periv181uTZ8rI1004dYqbdiDtyCv1rjtHVG5VbxjUSa+7xxTh2sZptNP2UrSJtsls020zsHndFpMZ7xZH0R/DsHiwRWLvv7YL2zwEAADs1hjyc5VM2mW9JgJFIa7kSNDNBjG35BjTNIhi8I7hpB8kms7r9NLLJBPiGLrBrGMitjU6gy/H2QypM+Bqk5ivph7IRNyqGrf1vXjWkRvXm6TKzoE32/b20uy9NjHmYdMOc6chvLfJwZzMXp8Tczuo91rd5rkID23zogUAAHZlFPk5JZNj3fXkKjXF7FGlhSYyJVPzc14MjOEkNm6jV+yw6rzJNqnnJpttLVfJZ7WOH1UUiWmnCD+1bYJKHE+ddvIwcst2/P1dV+OfeiDlDFRtcufNgeTGdYMw4HJgcZxHJ1Yv67uxt2mRrxhJbcY8zKwvn8RaO/i5lZsc0MlMd5sp6vZfmjmTnb30jrcnjnDGyxIAANitceTnnD2KyBGzRKiJ8WajDkJtZIpiDqmjQoxqqf2RjbWwYewnN07dJs2GZbZJUSQ36ASwXJkTy87zcx3YotCmadkZf7Hr4qCmHEg14GZCOoNvZqzdY9FbkjbsDrVtvLoWOpmMfFOib+dvEKVZqS/WNx2WldMad/bec9Anszu8yT4bsyYnH2zRw6zwHGz7sgQAAHZnJPn5wOmG+W3EfLVN4CEwmXvE/AAAwM0kPy9qxnpsSoNNhkkrh7NWVqlsLc9MfSZzfmEay2vLAQCAPSY/3wTFBcDy3m6ZTAAAYBzkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABi2Z/n5V/7iD197720AAAC4Le1Nfr5y5coL773+s7/7WwAAALgt/cq3T+42P7/77ruvvvqq/AwAAMBt7O9v3fP666/vNj+//PLL8jMAAAC3sb9/5j/JzwAAADBAfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAACAA++nf/tzBvUmbafkZwAAgIMqZMKtb5/9+Mc/vqTMUU6dOvXt7/zFwkFafgYAADiQQg78xre+WUVDZe7yrafPLBah5WcAAIAD6f2f/XR1dTUEwif+5Mkfv3u99yg9YYo+/8efD9N1//33h6nrPToP+RkAAOBAeu8n76f11KVwo/cQU12/8d5uZkx+BgAAOHh++rc/b/Jz7yG2kWcsTN0Cl3DLzwAAAAdPiH/vvn8jp8HeQ2wjz1iYOvkZAADgjiA/LybPmPwMAABwp5CfF5NnTH4GAAC4U8jPi8kzdmDz8zOn7jp0uHTymYk2AAAAFPYsP08ksuxDj/+w33JQ7uq3/vRKr35M8ozdPvk52NcI/dzJMIZxP+UAAMAdbvT5+Yd//Fuhn1PPlg0WlnpeZEgT8owd8Px8z3Ppbp7i5u5+ePVPP9Q+5QAAAGO0Z/m5duXx39nTLJYWJvcoP+exyc+9/Fw+Z3m6K/VM1c9B/eeHqn2lem6ayX32nqI+7yhoXxB1XJ9sk1Q7LSqrmjpjP5t2lFbLy9Hu0Z9YAAAAZrgF+bkOVs+l3PQH/z6Gnd/541erR3PaqpNa0ixG5huNyUzeSV51gMqVdePcf0hbdazL2gEsJs/YbbX+nJ6DTn4Oipj6Ox+qm3Xzc7VuXD3Nv1U8dM+psreJxJuEbSfyc7//vG31svid/Jo4+UyZwwP5GQAAuLluXX6ugtWpjU5grpc268bRfPl5MmRV/cjPw7qRNennz+ppK0J1CsA97fNXPR/5Guyq/zzLRT7P9blNVZ/aNE95W1/vrnk6q1dD88wVm8e7AAAAN9cty891OOpmpW7WrXTC1LSAHRWhrHe322eTn8PtIhLmThaXZ+y2yc/N/Fbz2Cjyc/EcTNu8O7mdTfJzEB6qXgodk/m5iusdTX5uXkbNCyvZkycVAABgG7du/bkNOO3CYRluW3Pl51zfrj62e5Gfh+U5KrJoliarmtNisrrPQX56qvltH+pObmeTJj/P2m/3Ka8y/LYvi0Yb+PvtAQAA9tR+5Oem5k9jyBoIU7Pyc7Hg3LvbyWh5c/m5Z7v83JEma1p+7pg7P9fPR6NqX/QZaqrXUCv108/P/a7kZwAA4Kbal/xcZp9ufTIlPydFn8FEyAqKnFWpfvSqzM+5fpdfm80zdrvl52LuTv1x+7R1wnDQxOzqTyA7yM/NQ5Xm6S/6jDXdZ3c4Pzf9AAAA3CT7lJ+buDQtx3aDUpukuvk5yjEwK8Jgs0nYad5RvTbZZK47PD8DAACwQ3uen+c0GbMPljxj8jMAAMCdYp/yc7UOfHC/sppnTH4GAAC4U9zy/Nz+XvKUr98eHHnG5GcAAIA7xf7l5/bnqA6iPGPyMwAAwJ3ilufn28F7P3k/z5j8DAAAcKcI8S+kwdXV1ZAGn/iTJ995791eA3pu/PQnZ55+OkzX/fffH6ZOfgYAALhThED4hS9+Ma2nKjsoX/ryl8PU9SZzHvIzAADAgfSTn//srbevfvZzn6tyoTJHefSP/ihMWpi63mTOQ34GAAA4kH76tz+/8dOfvP3Oj9/40VuvvfE6g8JEXbv+Tpi0BS7eDuRnAACAgyrkwPd/9tMQCN/7yfvvvn+DbYQpChP1k5//bLHwHMjPAAAAB17IhAzqTdpOyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABi2N/n51Vdf/Z82P/r8q39z4ZVL2fOvAgAAwIGXEu7f/OCNV/7+1j27zc9h4ytXroSOLr/9euMlAAAAOPhyyH35x2/+yrdPvvHGG7vNz6GLX/mLP3ztvbcBAADgtvSr37l3b/Jz6OjKjWsAAABwW5KfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMwepc2jh46fNfKVr9+ts2Vw3cdOrZ2qV8PALCw/c/PF9aP3RXOig6tbjaVOz9PAmC/1G/jreWtfpvdmu9zIWXm6tNEfgYA9tx48nNxYiQ/Axwck/k52of38ItrR8Kui7/GAgDsqTHl52bJoszPW6vNo83ZWFpVCI3zqVKur28f2bhQ95yb9SoB2Fv5bfzo+sXybrH2u7Wc34qntJndLH8QHNlYy0vKk58LK1vNm3z67Gg3D0IPvfXn9hOh91lzZGOzHszeL5sDALeXseTn5a186pPWDYrzpDJdNyc35WlQcuxoDs9JPj/rt6mzNwB7q5efg/wOnGo6sTaIb+PlH0ZzxM1v+7U2P1em5eeO8NmxXX6e+NRIw+juNPLHVgBgW+PJz+2SQpmfW0VlcWZWnxWl+uIcrkjjeWnaWRHAzTGZn9ua5o091Ke38VDZvu1323fe9qtwWy8gl58Luc/qXb26+Cj11rl+u8jP5SdCsa9qF7m+0wYAYKox5ec6DC+vT5wnNVJl1Sxt0p6l1Y3j7eqsqOSsCOCm6LwPJ827dBVWS21wre92sm4tt2n+9DmZn/PtzifCjPw8tatwt1Pf2RYAYKpx5efOlX7x3CjdzSdJxcnTvPm5OVsC4Kbp5ec6M8cs2nuoVDeLj+Z39SYSR1NDb27QWX/Onxo5ey+0/iw/AwBzG1t+Lhacm5Ob0pz5uW7TaPsHYE81Sbg05a+iURuqG/FNu/tu39Zsk59LnQwc1Zm8WtPufSJMW5eWnwGAYePLz82JTjpPak6zyou658nP5YlU0xiAPTeRn7sptJONJ/JzjsTdZnPl55WN+k2+2F0drXv5OSgidF0pPwMAO7T/+RkAdqDKz3XwBgC4VeRnAA4U+RkA2CfyMwAHivwMAOwT+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwbJ/z87e+9ywAAADcMr1YOj/rzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw0aUny+sH7vr0OHlrX793LaWd7V5JQ1jdXOifse2Vu86dGzt0kQ9AAAAB9B48vPFtSOHjx45dtfK1sRDs6RN1i/Wd/c9P3cHID8DAADcRkaTny9tHA2pNf+399BMNyU/78K+DwAAAICbZSz5Oa76xpXnfgSN9Uc2LjQt46JuCtgxaR++q5Y2ydvGUJ0ri2gdba702md5q/jfvFzc7jHuq90kaDosuqrTfqdxWnZuhpqVA548ovZRS9YAAABjNJL8HENvzrQxmhbxcmZ+jqasPzf5M12G3WTRFKqbflJYrSN03qoNuv09Jp1Rba028bs72hzFq4c6Q03pevpW6aH6bnecAAAAjMY48nM/arZrsDvNz9Mv5+72GRTd9raalp8nNm91xjMrP6dU3Ple9+yxdToEAABgLEaRnydXcZtAu9P83MbX4u6MSJz76W012bgzniy2qS63Lteuu13N3kVn5L3ALD8DAACM0hjyc4yXRRzNqgy57/m5dz15v6Yznm5Xs3chPwMAABw4I8jPk4mx/H5y99G08NvcnTc/T+6iCMnb5ue4Ye/K7VkheZuHeuMMZo9tYqgAAACMwb7n55gtJ/7N56KyzNLVj1Q38bK3bS8Jl3dTyyYVT/x+WLFVP1p3c2+vMt7u5ee2fZmE4+12L7NXsOVnAACAkdrv/NyJsq20zlwt/Kbb9UXdU9JmfCj10EvCvbspQlf9lEvKvWZtfo4pt2pfqbJxvdPJ8dRDTf3PGGpU/r1gSjP5GQAAYHT2ff0ZAAAADgD5GQAAAIbJzwAAADBMfgZgT834YYtkazn9QsTmSufXGeOPR/R/SBIAYHTkZwD2UPpRxvUQoXv/+F/Wzc/Vv6rQ1fzzBAAAIyM/A7BHypXn6f+awGR+Tm3KG/IzADBW8jMAeyEG5u6acxmnK9afAYADTH4GYJfSP7Bf5d5wu1x2Lh8K4tXdTVROl3l3l52tPwMAIyY/A7ALk4vMk1dut0vT1fpzVW/9GQA4UORnAPbYhfVj5c9rF9r157bB9G9KAwCMjvwMwG5trhQLyBOK1emQn2NUrgN2e3W3f8IKABg/+RmAvXHhUm/NOa42dxeiy/y8UX4XusMl3ADAKN0++TmtfrgCEGC/1Ndmp2Xk6e/J9c+DTV7gbf0ZABi/MefncCrW/adQtpMuAtxBewBuinwt99TvPzexWX4GAA6iEefn+Lus8jDAQZT+ptnPw+0/bSU/AwAH0Rjyc146znJgLmuS+rtwmytxTSOeZqX69Js09RWDUXutYGq5VffT5vC8MNLo/JsrAAAAMMMI8nP5L5dc2lper9cfpq0/b39ZYC8/d9J4XtZo97Wji8MBAAC4040gP8ecnFaDez+4Ois/z/hd1in5ub4UsLndtkk7tfgMAADAnEaQnyv1NdvN999uQn4urwyfuogNAAAAU40gP2+tNuvAMQM38XjaEvEu83Ns0+RzAAAAmNu+5+eLa+urxQ+AdRacUyTO9VUw3mV+7v7YWNstAAAAbG8E68+3UAjSxYJ2zNK+Ag0AAMA87qj8fPHCVv1bZYnwDAAAwJzurPVnAAAAWIz8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADBtffn7t7MMnP/74y/H25c0HlpYe+nqvwYJe/9InlpZOn5moH/Di2U9+9NSTFybqAQAAuKOMLD+/cebBEysPn3s13/3mp5aW7nvyhbLB4s49fHzp3qdemqgfcvXMg8eXTm2+3q8HAADgTjKq/Hzh0ZMnHjxbhecrN86vnVi6Z+OFosEuPP/o8tLJRy9N1M/hmfUTCyxcAwAAcDsZUX4+v3Hy+OnNF5ualz9/z9KJ0088durupVCWP3X2cq5/54WvfGr1eKxb+ugnnnwuVb548cuPnFrJlcfv+3yuvHLj1W9vPPDRWHfiwU+sLh1/5OlU/8qlzdP35bYrp566kFrGkHz802fPn/nkPfGREw8/91auj848tHTysfPNXQAAAO4848nPZx8+vrL2fFuTvvx84v6nzofY/O3Pnlg68Zlvh/qrZ0+fOHHqzy/ELP3a5oPHl06fS42f++pT5196JVS+/Pl7l6rKpz8dtnroK6+9deWdc4+cqL78fPncJ5dPPPDUxXg99gtnHjq+9Mlvxt29+NjJkLxPnj6Ten7nrdhV7YWnVvfuMnIAAAAOpNHk5+ceOX7i0WeKmvLLz83tZ9ZX0rpxU6rI/cqlM49+6uMfPZFXldN12q89ee/S8YdTkC6+/Hx+La1mt+XutNOrXz21tPTgmWLNufD0p48f//S5XiUAAAB3lLHk5/MbJ5dObxY15Zefm9svPX7flN/QfvHsQ8tLK6fPXHjhjbfiWnG+TvvsQ0tLD30lt2m+/BxD9dKDZzubR+c+ubT0wJeuTtRHYe/HH36uVwkAAMCdZVT5uQjG8cvPdWotbn/99NLS8Ye+8lq4/dYLz51L33N+9alTS0uf2HzlxrXLFzcfvLsO2GdCfj756MX4femnPnGi/vLzmQdDB6c347L2Oy89/Vz75edZ33B+cfMBX34GAABgLPk5ftv57sfq3/3q/MvPnX8F+o2zj5ysfibso6c+880YpK+dfyr/nNjK/Z/9/CMnm3+k6sJj6UfCjp/85NqnVppw/uK5z6RfCAsPhPZn0/XhLzx6cml5/Xxu0PHG5oMnUgjv1QMAAHCHGUt+Tt9APjGuy6RfC+G5/Pe0AAAAuHONJj/fuHb+idV7Pvts+cPX++rFx0+dfOSc8AwAAEA0ovwMAAAAoyU/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJz2Nx7fHfeO83T75ztV8/j91sCwAAwDzk57GQnwEAAMZMfr4dyM8AAAA3m/y8iJRXf+P609949zd/492nr8TKq/F2qIz1F+qWF9ZzzbtPf+N6vLF+7caVd+4LN6qs+6OnT6ZHYw9tBs5d3feNd2JN2CS0/F7aPKp2V+7x8e/JzwAAADfbwc/PlzaOHjp816HVzV79jWsX1o/dFR46snFh4qGgenRlq1efvfOpX/vFB37vxkR9lvNzG2iL8JwUMbhjJ/m53aQNz1nK5/1K+Rk4kLZWp76Bz6yPtpYPHV7e6lUCANx0Y8jPF9eOhAC86MnQzcvP/+D0OxP1WZWfH/9evlvG4LzmHCJurqzaVJF4R/m5zsN5EbvoJ7bPlfd940dxADlLy8/Afolv40fXL07Uz0F+BgAOjjHk53gmNJ78nFaeP/B3/yD+N5myCp3zc3OddrkcnYWI222TI+7Ort9O2bjO4aXHv9dJ7N0+AW45+RkAuCPsd36u0m8jnS3F06a2snOS1GmfGnfyc7WUne9O5ueqJlVubrv+fOMjITn/2k9fDLf/+p34346p+bm5W1ZWEbddf+40Ltuk2zPzcx2VK1WorhbArT8D+6f7Nl69YxeVnVzdvL0378xlTs6P5rflXn5uOzy2dkl+BgD2xxjzc5tyK+FsaWbjurLcsDrl6ufnbiyvTMvP+eLtG3EhOkfovn5gruJxLUff+sfDCjE/T64nb5+fJ77qHDvp7zGSn4H90lt/vri2Ur/xprfoIlS37+drubLJyall20mZnzsP7e4rPwAAu7Df+Tna7vrtnIGr06YcgHvXYzf5ubrR9tPNz/XSdBWYq51Oy89f/vkHPvDzr8XbcRX6I1/uPhr183NQpuWJS6+vX2iu3w71dR6+7xvXirXl2fm5l5ZzJ+WPe3/P9dvAvtrm+u3iod6SclZVpvfk8g25aBzfzMt3/vRuLz8DALfeKPNznYQb1blXp376onR5AtfNz3kv9VbNo9PWn2+CMj8D3GYm83P9N8qkfqiq7LSMOfnY0SMT78Ztfp7eufwMANx6I8zP+W6x7FCebE1G6KomnX6FG8UaRSc/183kZ4C91o246f22fkufSL8xGMe366pBk597S9PyMwAwPuPLz1XQbU+bwkPdM6doc6Wub4Nx1U/TeNr6cxOYe3dvNvkZuI11Im58723/lDmZfqP4Hp7ffqucnN7tiz+AFvm5aNw+JD8DAPtgDPm5CslJ+zXm7OiRYv05nTMVOuvP8XbdIJ9XdfNzfbeWe75V+RngNpbexuu30/RmW0Xf/MbbvIfXobcI1W1OTn/WbCJ0kZ/ze3u9bfdPrgAAt9AY8nOTgYN4ttQE3XB21Tv3yvVJfSV2mZ/rdel8t+qnWNCoH43nedWj8jPA7nX+fNn+VfTo+lYblcu/ljbvvWVOrt7P092yvrqbtw1v7zFCy88AwK03jvwMAAAA4yY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADDs9snPmyuH7zq0ujlRDwAAALs35vy8tXzo2NqlXuUsF9eOhPw8f3sAAADYgRHn50sbR+VhAAAAxmEM+TkvHWc5MJc1yZGNC6nx5srho+sXL6wfy/XLW6Fya7lt2V6/nVpu1f20OTxd5t1KPQAAAMCAEeTnrdU2917aWl7fquqnrT/n9BsidFmZpVDdyc+dNL6Sum33taOLwwEAALjTjSA/x5ycVoPrReaiflp+7jWrTcnPOTMXt9s2aacWnwEAAJjTCPJzpb5muw69NyM/l1eGT13EBgAAgKlGkJ+3Vpt14JiBm3g8bYl4l/k5tmnyOQAAAMxt3/PzxbX11eIHwDoLzikS5/oqGO8yP3d/bKztFgAAALY3gvXnWygE6WJBO2ZpX4EGAABgHndUfr54Yav+rbJEeAYAAGBOd9b6MwAAACxGfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIaNLz+/dvbhkx9//OWJ+pvu1a9/auX+p16cqAcAAICx5ec3zjx4YuXhc6/262+Jy2cfOr70wJeu9usBAABgVPn5wqMnTzx4dn/Cc3J+7cTSg2d7lQAAADCm/Hx+4+Tx05svFjUXznzynuNLS0vH7/3sI/curT7+Wqg89/DxpXufeik1OPPg0tKpzdfT7Zee3njgo7Hx0vGTn/nmG7mH17/0idD4fHwoPrL6+MvXLm8+sLT0yW9Wuzi/dnfooU3sXzm9dM/GC81dAAAAyMaTn88+fHxl7fm25sJTq0tLJx99PsTjFx+7L9x87Hyov/jYR0PlpdTm+UeXQ238pvQLj993/J71cy+8c+3KO+fXTi7d80T+GvPZ0yE13/3Ao8+99Eq4+85bsfLSY/dUW117buPk0ie+WiT2lx6/rwnnAAAA0BpNfn7ukeMnHn2mrcnrzDkGx1h7/NPnwu0XQqg+/sjTqc35kH7TJmlJuVOqRekUsB+92PSZxZ7jRdqXPn/P0gNfqlaqm4eOP/xcWQMAAADRWPJzDMOnN9uauEq8UkXfq189tVR9Lfkrp5fqZvHa7KVPnQ23n/708Wp1uuvCE1XA7tWni7TPhkxeXrkdhbxdh3MAAAAojSo/n2lr4nXaxx88E/LtS0+vn4xfXY5ffn7h0ZNLxz8dMvNbzzz18eV6nTluu3Ry7fl4efbli+e+Xf3bVylgl33W4iJ2KJ0rt4NXQ3tffgYAAGCqseTneA323Y8919bEf405pty7H3jw1Ilmefnpz1aVjz735Kn6a8xXblx4/BOpfmnp+H0PPZWCdPfXxbrOPLTUv3L72otnHlo+WQ4AAAAAWmPJz+ki7RPTvnvcfvl5T7zy2uaDJ/r/StYLITyfeOjr3UQNAAAAjdHk5xvXzj+xes9nn40/lF0qvvy8a2cfPh7/eavTZ/LPktVefvL+9p+8AgAAgClGlJ8BAABgtORnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5+bZwYf293/yNd5++0q+fx262BQAAuGPIz7cF+RkAAOAmk5/vePIzAADAHOTnWy7l1fce/8Y79/3Ge/d940ex8nvXQ03S5tir33g3V+aWv3nynavNtt9LbfJW69fqPtO2V6rGT8ea6xdiV9ceT/0E1e6C3CxtLj8DAADM4fbIz1vLhw7fdejY2qVefdeljaOx2epmrz7ZXAkPHT66frFXv4gXT//dBz7w869N1Gc5A7eBtg3PWQq9/cod5udK6KoNz1natl8pPwP7aGt18A38wvqxu45sXJioj+Lm09/YAQD2lvxc2ev8/Gs/fXGiPqvyc8q9zd0cidOac4yyubKzOr2z/Fzn4aJNfqhN7KnDOkvLz8C+kZ8BgAPi9sjP87kF+TmtPP/iH/xa/G8yZRW6k4Gv/ejpk/Fu6fHv5co609aXZO/o+u2UjduLwFvr13JlfS13d18AYyQ/AwBjsN/5OZ73lJn24tqRmGOXt9rblfbMqV5t3kp5ONZ315+rnFxpI3Gbn3P7oF3xmMjPTZvDd61s1ZXd+lkLJl/7vZCc/+5Tfx1uv/Ni/G/HtPzci69VqO7k5BSJy+hbZeM58nMdlSvlhtafgV1Kb63pTTtLb93V2+bUN9LY4Oj6Vvtu3w3A+d04aSur/Fx9ZATF228vPxcfAcWo2m735jojAOCOtO/rz9XZVXWW01kiLpNq0jkhO3Y0p+vJ/NyeYFW6ndcbVqqtOvm5OP2qTJ4LRtPyc754+2txITpH6L5ufq7jcSPF2irilnIk7jUOts3PE191Tl+uzm065GdgUTkPl3+pbN5Xm1gb3zzrNvlvozMC8NZqE3rj23L9l9OYn9u34ny33aR7u+65GEm5fH1hfaMeFQDAzux7fq7XBNJZUe8MqZCDazdXt81yzbQ0m7N0blmn4vocruon3y3zcydLl7uueqhP1Ka58ZEP/OIjX4634yr0793oPhr183MvLVfLwlWzmGy/V0bi5nrv6xfmuH476qTl/IvcbQ6/7xvXXL8N7E43nU6/0Dq+r1Zv2uUCdVIG4FJR3wnMUXxnrpJ226yb5NNO23f1KZ8sAAA7s//5uYq48ewnL0q0V9zlHFvIZ0hV7m2aTeTnqkGrk5/bM7AyJxe3q2F05c47PRcDuKkmIzHAmLQrvb0E2307LfJzmXJ7+bn6Q2qlqp+I5UUn7eYTb/5B3mn1QTPtz6wAAHMbQX5u83C+UZwtTV0Erm6Xp0FlTT5dqx/N50w7y8/VeHrqtNx59JZEaPkZGLk6zbZBOojvlvV7eHqPnSM/x2ZNTi7q58/P27wt5/f58lMAAGBHxpCf6+x6pHPxdhFom6WD9gxpdn7uPFqdLXXyc91nfTefbBW7ywm8e3o3oVohqUd7M8nPwNjlfLsZ/tu8KxbpN4jvscP5uRuAe/m5k3uLlm2z9O498Lbc3QUAwE6MIj/X8bhNs0EVfbMjx4ql405CTsqafLvSyeR1YO6oFzSmxfXCjB6chAFE8e1xdXmll37rN+r8pjpffq4fym/mZX5us3F8x562TJ13VHyONH9LrRvEcZYfHwAAOzCO/NyE3s7leU0SDuc95YlUvj0rP9cnakE40ypP2qr0u7rZNGhOuXr5uW1cqeq7lcIzQCO9i7ZvqnVNsrIVbw/n5+INvHqvrurb9e38aPlhUW7eJO2kfZcu3r29dQMACxtJfgYAAIBRk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh48vPr519+OTHH3853r68+cDS0kNf7zUYdPWrp5aWHjw7Ud969eufWrn/qRcn6gEAAGC6keXnN848eGLl4XOv5rvf/NTS0ie+erlsMI/nHjm+tPr4axP1hctnHzq+9MCXrvbrAQAAYKpR5ecLj5488eDZKjxfuXF+7cTSPRsvFA3m8sz6iaWTj52fqO+KnW+7Rg0AAACtEeXn8xsnj5/efLGpefnz9ywdv/f0Q/ccX1oKN564UNW/du7RT6zEuqWVU0/VlW88Gypj3YmHTt23dPzT50JlCtKfv1A1+OqppZW15+vOb1z7yulFwjkAAAB3pvHk57MPH+/k2/Tl55WHz770yo23nv7siaXjjzwd6uMF3iH3nr9849oLfx4anHwsflP63MMnlpZPb77wzrVXnvvMcvPl57MPLS198puxt1e/cvr4R9fPN51fufHS4/ct3fvUS0UNAAAAzDSa/PzcI8dPPPpMUVN++fm5jZWcn7/56eNL9z1ZLSlffOyjSyuPXrz2wlOr4dGUk7tffn7tyXuXTj566drlc59cvrvTeYzcx48//FxZAwAAADONJT+f3zi5dHqzqCm//Pzi4/GS7LNXbrzw6Mml5XoZ+UIdm79+eqnZtvvl5wuP3r304JlzD5/orGxHzz+6nBe0AWDnvvjNr/VqAIDb3qjy85m2Jn75eeme9fOv3Hjrmac+vry0mv5Fq3jR9dInvvzCjWuvPP/5e48v3f/n8d+g+krIzycfey5UXvryqRPVl5+zpz8dvyjdvXI7ePVLn/DlZwAWJz8DwB1oLPk5ftv57piB27v3PbIW0vDS0vGTn/xK+uego4tPnro7/kzY0t0fXztXf3v5YszSoeE9n3r09N2dX9WOF373r9y+9uKZh5ZT3i4rAWB+8jMA3IHGkp+vXP3qqaUTe/uF5MvPP3bP0slHL3YqXwjh+cRDX3+jUwnAwXNp4+ihw3cd2ah+FGPvbK4cvuvQ4eWtfn3pJubneFyrm73KxvaPAgA302jy841r559Yveezz74yUb+Il5+8N65RP/Do+eZfk67q7z/5mW8KzwB758L6sZA2Wzch0E43b36+uHakn4e3T8iL5ue8o4lwm8Z5dP1ip3Ib8jMAjNWI8jMAB9Ho83M9wpWtumZrOQ51ZgrdTX4+euRYLyqH3iYrtyM/A8BYyc8A7EpOp518uLWasnSOeTmsHlu71Enadfu8Zhsezc1yfXW7Srx1Tt6sN6+27ebnovPJeJk6bJJ2Hl4Vp+t9FRsW+Tk/Olkf8vPDzYblsSyv9/Jt6GF1bV1+BoDbgfwMwK701p9zUMxRM9wuM2e+XYuJurm4uqw/WtTEDXNO7kjbFvm5N4bJRem067zHTgzud55CddFgVn7eOvrf/w/tVlVlys9b+b+p8zSwMAn5v7mms8d2Sbw3D3VCLhoXA5afAWB/yM8A7MrU/NxZ121TYi2tAKeWVW5s8mfTQxtWqwzZCbGxTa6PUTlvWMbjiYTZ3+NkBG3rh/Pz1up/F/JzsTze9JwfrQN82DyOqs3PsXE1zty+Pdh6ltJ85j3Gtet6nFVX8jMA7CP5GYBdyfm5yocT9U2sLWoqRZoto28OrlXjNj/XS8rt7tr6IqtX2p3WUpvQuI27RX1rrvwcxhDzc7lhTL91fk5b5WY5FYcbeY9NTaVK2qF9MeAmIefrzAv1bMjPALA/5GcAdqUNtJ36Ipfm6FsG1/5q8Bz5uQqNuX1R3+bngVSZOj+2vBK6bcNqqix7jreLYZTDa3cdxhby88Qhxwbt4Fc2yrsL5uc8dSX5GQD2j/wMwK7koFvoRNA2i06spu4wP5dSgGzzc38ME8k2aQbQhtIqEhd6+bm6XUr1ve8/50Db5ufqzwf1jpr8nMbcROXYvp2EOlenPeYOYyd1hxfXVlJv8jMA7B/5GYBdmczPf5Jrcnqs0m8MjXUWPba2vvP15yMba83mOX8W+bnZNpuen+sl8c6j1fBCfI3LxZP5uWiwVdZ/8Y//U1UfTebn2EmzozY/B8XfEYqRVGMLOr/g3ey9c9TyMwDsD/kZgHHr5uSRmPbvPwMAtzn5GYBxk58BgHGQnwEYN/kZABgH+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8A7Mp/+aP1f/xP/8WhX/p1AIAx+9//j6PhvKV3JrMj8jMAi/vEf3mk98kEADBm//mzn+udz8xPfgZgcf/on/zz3mcSAMCYhbOX3vnM/ORnABb0w3ev/o+//D/3PpMAAMYsnL2Ec5jeWc2c5GcAFtf7QAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NJru49+7/otYrj/7/8a7X3g53fvF5S9MtAQAuPl65zPzk58BWFzv02iqjz17/ReX/2xK5fXvfaxbCQBwC/TOZ+YnPwOwuN6n0VRT83NchZ6sBAC4+XrnM/OTnwFYXO/TaCr5GQAYld75zPzkZwAW1/s0muqpy79w/TYAMB6985n5yc8ALK73adSXfjms+tmwSemHxPyKGABwi/XOZ+YnPwOwuN6n0VQzr9+2/gwA7Ife+cz85GcAFtf7NJpqan6eHqoBAG6+3vnM/ORnABbX+zSayu+HAQCj0jufmZ/8DMDiep9GU81cf3b9NgCwH3rnM/OTnwFYXO/TaLr0K2KhVD8kln42LBS/HAYA7Ive+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFtf7NAIAGL/e+cz85GcAFve//m//tPeBBAAwZv/on/zz3vnM/ORnABb3sdOf7H0mAQCMWTh76Z3PzE9+BmBxl3505Xf/w/HexxIAwDj9h//40ctXX++dz8xPfgYAAIBh8jMAAAAMk58BAABgmPwMAAAAw+RnAAAAGCY/AwAAwDD5GQAAAIbJzwAAADBMfgYAAIBh8jMAAAAMk58BAABgmPwMwK5cWD9216HDrSMbFyba3BppJMfWLvXrb5Wt5XD4K1sT9XO4tHH00OGj6xf79Teuba6EWV3dnKgHAG49+RmAXenn52CfInSKmvuXn1MGXjA/b62GeZuWny+uHQkHJT8DwCjIzwDsSs7PdfZLa7Ap75W5un40p8Fja+sxLi5vbdvmUu4q11e3i3Ra11QN8la1qlmvTR1xj2ysTV3UTSE2qUN4bp81fxTIzVa2UlyvG7fb1jWdGaj2lTdZ3qoHlvrs/gGiHFU7/uDo+hfT3aZBevTIxpO9PoseJgcAAOyG/AzAruSQ1gmoKa3V8TLLkbKTckN+HmyT6492t+oFy1Q5mZ8n23TzcDdSdkNsGkmncZIjdCcqJ2F3E/m522G1bfd4o94fEbqj6uXni3X8To+mPTaVHenPB1MHUPcMACxCfgZgV/o5LWhXiZM66TXZuArb27ZJKbHTvk2POazmvaSUWzSo1n6nt6kicd2mVe60ko+rHmqOsmnD3HOOo7nD8nZ17LnDakdpYO3fFHKfnf7bw6/2Xsv91KG6OKjmYMs+6wMM7acPIPUJACxIfgZgV/r5uQ7PvfoU8Dqhbp42ORzmWJsbh9v9PQbdSDnZc9WmjLsdKR5368tdd+6WybzcsJOf+6vfZdat+iwz85z5Od+Nu2v32x1n3m9oP30ARc8AwI7JzwDsSk6q/eyXwuREOOzm5znalOGwl5/7e5yWn/ttts/PbQqNuj3kBqnzHeTn/pLvrvNzHlX7BfJQk/ss+2kDtjVnANhT8jMAuzI9qeYgV0gNuvl5jjZT83MTd2tVSsyNoxhip7WZmZ+rzmtp77lxKWfjPOxZ+TmKm3c7rOZn+/yc9BJvno22h7yXo0dC5xNHXcstpw4AANgN+RmAXZmen9tcVy2Wpgbd/DxHmzJwFvm5F27rzNlU5nA72SbXTMvPQRE46xGWPVSBeXZ+Lg+nGHyW56c8nE5+bnNyLz+30brfsh5P1ed699iLh7J6cwBgcfIzABwknRA+cRcAuHnkZwA4QPpfbJafAeCWkZ8B4ECY+C50Ij8DwC0jPwPAgdD/5jMAcIvJzwAAADBMfgZgV1577+0fvnsVbp7wGuu96gBgX8jPACzu1es/+rOtb/27318++sEPH/qlX4e9dfSDv/Pvf3/5z88+HVJ077UHALee/AzAgkJ4/uI3N4/+qw//yZ9+6d13331fUfa6XL9+/ck/+eLR//PDf/b0N8PrrfcKBIBbTH4GYBGvvff231y98m/+w/EQnqusoyg3p4QI/W9/7w/C682F3ADsL/kZgEX88N2rP3jjlSP/8piVZ+Vml/AaC6+08HpzFTcA+0t+BmARIcm8cOWlQ7/061XEUZSbWcIrLbze5GcA9pf8DMAiQpL5/muX5Wfl1pTwSguvN/kZgP0lPwOwCPlZuZVFfgZgDORnABZxi/PzuZXDdx06fM/Z99//myc+eCjc/ti56pGFytmPhd7uOvLEq9X9xcq5e6pO0o1dDknZtsjPAIyB/AzAIg5afn7p8SPFVnuRn1997MPVkOTnm1/kZwDGQH4GYBH7lp8XLHsecbuBXLnJRX4GYAzkZwAWMWd+zou0tSpt5soPPvZSTsX5dnqkTrnVInO7SZGfe0k4320bT9lj21uycq6qadaf83J0pe65adM8GjZsSqrsDzvdKQdQN8hhu1fZHFTz6Icf/5v8yG1YPvCBDzz44IPVnVTC3VBZ3Rkq8jMAYyA/A7CIhfJzFVmr/Hyk81CRjT/8wSJt5k1m5OcyPFeVU/a4bX7ut4+K1H3kw+W2zQJ4Gk8Td4shdaJ4jsq9QTb11UF15iEN6bYsOS3ffffd+W64MZmotynyMwBjID8DsIg583NR2pBZRdY6K+YYmVZ3q6hZxdQq98aYOjU/9/p5/+y5mGDbUsTazu1ibbleGe4tFMe7xd479aHkh9rl6KLznJ8nVqrbXRd3iwOfaHY7lhyh/3EqOwrPocjPAIyB/AzAIubNz9312JwPq/XnKrLWMbjNz02GzHdn5ueisijT9tjvuc3P7S5yacfWtokl7yuPOd1uN+l2nm9nsaY4ulxmjL+K6/UIb9OSI/ROw3Mo8jMAYyA/A7CIufJzZ522zY3dSFku7XbT7MRS7fbrz68+9kT1xemJPXZv72T9eUp+Tl3V9al0Ow+lyfChWW9hefpB3Sn5OZTPpVLdmbvIzwCMgfwMwCJ2kJ87Yj6scm9Hzsw5iHalMDw1P0/0X/7wWFEZWpY9hw6LbDxtMEXnE/k5t+8uerdD6vcWN59yUDmu35n5ebEiPwMwBvIzAIuYKz/XETElxid6IfODj53Li73FtdB1EG3Wb6uV5Bn5OZQyMKesO3WPobTJtpufY2l2V1ZOz8/fTWPupdxZ+blpVi1rZ032lp/nL/IzAGMgPwOwiDnz89RS5+d8yXRZutl4hCUl7YmRj37YB7/IzwCMgfwMwCLu0Pw8tVg6vvlFfgZgDORnABaxm/ysKDst8jMAYyA/A7AI+Vm5lUV+BmAM5GcAFpHz85Gjv339+vUq4ijKzSnhNRZeafIzAPtOfgZgESHJvHDlpd/9d7//5J98sUo5inJzyhNPfuHf/N8fCa83+RmA/SU/A7CIkGR+8MYrf/TkE7/1r/51iNDvvvtulXUUZe/K9evXQ3j+rX/5r9f/9E9efPNV+RmA/SU/A7CI1957+/Lbrz/7gwuf+a+P/c6/Xfpn/+JDh37p12FvhdfV7/673//MxmPP/eD58HoLr7re6xAAbiX5GYAF/fDdqy+++ep3L/7VN7777a9sfePPnv7Gl89swl4Jr6jwugqvrmd/cOHFt35o8RmAfSc/A7C4EGkuv/36D9545YUrL33/tcuwt8LrKry6wmtMeAZgDORnAHbltffeDtkGbh6XbQMwEvIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMAw+RkAAACGyc8AAAAwTH4GAACAYfIzAAAADJOfAQAAYJj8DAAAAMPkZwAAABgmPwMAAMCw7fLzz372/wMNC3IbGyP6FgAAAABJRU5ErkJggg==)variables的参数示例：&#123;“流程变量名1”:”流程变量值1”,”流程变量名2”:”流程变量值2”&#125;</code></pre><ol start="2"><li><p>查询流程变量<br>    数据查询，带流程变量的接口查询需要调用专门的能否返回流程变量的接口：</p><p> <a href="http://192.168.6.11/runtime/swagger-ui.html#/operations/%E6%B5%81%E7%A8%8B%E4%BB%BB%E5%8A%A1%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3/getTodoListWithVarsUsingPOST">&#x2F;runtime&#x2F;task&#x2F;v1&#x2F;getTodoListWithVars</a><strong>待办接口</strong></p><p> <a href="http://192.168.6.11/runtime/swagger-ui.html#/operations/%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3/getDoneListWithVarsUsingPOST">&#x2F;runtime&#x2F;instance&#x2F;v1&#x2F;getDoneListWithVars</a><strong>已办接口</strong></p><p> <a href="http://192.168.6.11/runtime/swagger-ui.html#/operations/%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3/getInstanceListWithVarsUsingPOST">&#x2F;runtime&#x2F;instance&#x2F;v1&#x2F;getInstanceListWithVars</a><strong>实例接口</strong></p></li><li><p>参考接口调用方式<br>获取待办+流程变量的列表数据接口</p></li></ol><p>接口地址：&#x2F;runtime&#x2F;task&#x2F;v1&#x2F;getTodoListWithVars</p><p>请求头信息：</p><table><thead><tr><th align="left">Authorization</th><th align="left">必填</th><th align="left">token认证信息</th><th align="left"></th></tr></thead><tbody><tr><td align="left">Content-Type</td><td align="left">必填</td><td align="left">类型设置</td><td align="left">application&#x2F;json</td></tr></tbody></table><p>请求参数：</p><table><thead><tr><th align="left">account</th><th align="left">必填</th><th align="left">用户登陆名</th><th align="left">可为空</th></tr></thead><tbody><tr><td align="left">vars</td><td align="left">必填</td><td align="left">流程变量</td><td align="left">var1,var2,var3</td></tr></tbody></table><p>请求body格式：</p><table><thead><tr><th align="left">pageBean</th><th align="left">选填</th><th align="left">分页对象</th><th align="left"></th></tr></thead><tbody><tr><td align="left">querys</td><td align="left">选填</td><td align="left">数据过滤参数</td><td align="left"></td></tr></tbody></table><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"pageBean"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token property">"page"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token property">"pageSize"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token property">"showTotal"</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  <span class="token property">"querys"</span><span class="token operator">:</span><span class="token punctuation">[</span>      <span class="token punctuation">&#123;</span>        <span class="token property">"group"</span><span class="token operator">:</span><span class="token string">"main"</span><span class="token punctuation">,</span>      <span class="token property">"hasInitValue"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token property">"operation"</span><span class="token operator">:</span> <span class="token string">"EQUAL"</span><span class="token punctuation">,</span>      <span class="token property">"property"</span><span class="token operator">:</span> <span class="token string">"查询过滤参数"</span><span class="token punctuation">,</span>      <span class="token property">"relation"</span><span class="token operator">:</span> <span class="token string">"AND"</span><span class="token punctuation">,</span>      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"参数值"</span>      <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <br>4. 描述<br>如果要用传入的流程变量进行数据过滤的话（比如：flowKey_）,需要修改property的值为var_流程变量（比如：var_flowKey_）,value填写对应的流程变量的值即可，operation可以用<strong>EQUAL, EQUAL_IGNORE_CASE, LESS, GREAT, LESS_EQUAL, GREAT_EQUAL, NOT_EQUAL, LIKE, LEFT_LIKE, RIGHT_LIKE, IS_NULL, NOTNULL, IN, BETWEEN</strong> </p><p> </p><p>接口返回示例：</p><p>（待办接口基本的返回参数以及额外扩展的流程变量参数，假设流程变量没有给值，则无法返回对应的流程变量，返回的流程变量前面会已var_标识）</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>  <span class="token property">"rows"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">&#123;</span>            <span class="token property">"OWNER_ID_"</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>            <span class="token property">"SUPPORT_MOBILE_"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>            <span class="token property">"INSTSTATUS"</span><span class="token operator">:</span> <span class="token string">"running"</span><span class="token punctuation">,</span>            <span class="token property">"EXEC_ID_"</span><span class="token operator">:</span> <span class="token string">"e64aecbdf4a9445bbaac636fe0f04490"</span><span class="token punctuation">,</span>            <span class="token property">"IS_DELE_"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>            <span class="token property">"BPMN_DEF_ID_"</span><span class="token operator">:</span> <span class="token string">"csfzlc:2:d00e2c29e9ff47ad9f365edbb2a0eaea"</span><span class="token punctuation">,</span>            <span class="token property">"NODE_ID_"</span><span class="token operator">:</span> <span class="token string">"UserTask11"</span><span class="token punctuation">,</span>            <span class="token property">"INSTISFORBIDDEN"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>            <span class="token property">"OWNER_NAME_"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>            <span class="token property">"ASSIGNEE_ID_"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>            <span class="token property">"SUBJECT_"</span><span class="token operator">:</span> <span class="token string">"超级管理员在2019-10-31发起测试分支流程"</span><span class="token punctuation">,</span>            <span class="token property">"CREATE_TIME_"</span><span class="token operator">:</span> <span class="token number">1572579174738</span><span class="token punctuation">,</span>            <span class="token property">"CREATOR"</span><span class="token operator">:</span> <span class="token string">"超级管理员"</span><span class="token punctuation">,</span>            <span class="token property">"STATUS_"</span><span class="token operator">:</span> <span class="token string">"NORMAL"</span><span class="token punctuation">,</span>            <span class="token property">"PROC_DEF_KEY_"</span><span class="token operator">:</span> <span class="token string">"csfzlc"</span><span class="token punctuation">,</span>            <span class="token property">"ASSIGNEE_NAME_"</span><span class="token operator">:</span> <span class="token string">"超级管理员"</span><span class="token punctuation">,</span>            <span class="token property">"NAME_"</span><span class="token operator">:</span> <span class="token string">"用户任务11"</span><span class="token punctuation">,</span>            <span class="token property">"BPMN_INST_ID_"</span><span class="token operator">:</span> <span class="token string">"e64aecbdf4a9445bbaac636fe0f04490"</span><span class="token punctuation">,</span>            <span class="token property">"PROC_INST_ID_"</span><span class="token operator">:</span> <span class="token string">"fb5dd5ac1ef84bad9013a721ef141d60"</span><span class="token punctuation">,</span>            <span class="token property">"CREATORID"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>            <span class="token property">"ID_"</span><span class="token operator">:</span> <span class="token string">"66e83200e4854f2499fa97fe86d8aae0"</span><span class="token punctuation">,</span>            <span class="token property">"PRIORITY_"</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>            <span class="token property">"CREATEDATE"</span><span class="token operator">:</span> <span class="token number">1572492056080</span><span class="token punctuation">,</span>            <span class="token property">"PARENT_ID_"</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span>            <span class="token property">"PROCDEFNAME"</span><span class="token operator">:</span> <span class="token string">"测试分支流程"</span><span class="token punctuation">,</span>            <span class="token property">"TASK_ID_"</span><span class="token operator">:</span> <span class="token string">"66e83200e4854f2499fa97fe86d8aae0"</span><span class="token punctuation">,</span>            <span class="token property">"SUSPEND_STATE_"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token property">"VAR_FLOWKEY_"</span><span class="token operator">:</span> <span class="token string">"csfzlc"</span><span class="token punctuation">,</span>            <span class="token property">"PROC_DEF_ID_"</span><span class="token operator">:</span> <span class="token string">"b44101e97952428c98f9482c9fbe0f35"</span><span class="token punctuation">,</span>            <span class="token property">"TYPE_ID_"</span><span class="token operator">:</span> <span class="token string">"139566"</span><span class="token punctuation">,</span>            <span class="token property">"TYPEID"</span><span class="token operator">:</span> <span class="token string">"139566"</span><span class="token punctuation">,</span>            <span class="token property">"VAR_SUBJECT_"</span><span class="token operator">:</span> <span class="token string">"超级管理员在2019-10-31发起测试分支流程"</span><span class="token punctuation">,</span>            <span class="token property">"PROC_DEF_NAME_"</span><span class="token operator">:</span> <span class="token string">"测试分支流程"</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"total"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>    <span class="token property">"page"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token property">"pageSize"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 工作流 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工作流 </tag>
            
            <tag> 引擎 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>继承BaseService通用service省略编码</title>
      <link href="/platform.github.io/2022/08/22/BaseService/"/>
      <url>/platform.github.io/2022/08/22/BaseService/</url>
      
        <content type="html"><![CDATA[<h3 id="基础BaseService作用"><a href="#基础BaseService作用" class="headerlink" title="基础BaseService作用"></a>基础BaseService作用</h3><p>Service接口类继承BaseService接口，可默认实现分页列表、保存、更新、删除、详情等接口，支持自定义重写；controller直接调用即可</p><h3 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h3><h4 id="entity类需要继承BaseEntity："><a href="#entity类需要继承BaseEntity：" class="headerlink" title="entity类需要继承BaseEntity："></a>entity类需要继承BaseEntity：</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span>keepGlobalPrefix <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"sys_report_data_source"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataSource</span> <span class="token keyword">extends</span> <span class="token class-name">BaseEntity</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="service接口类继承BaseService"><a href="#service接口类继承BaseService" class="headerlink" title="service接口类继承BaseService"></a>service接口类继承BaseService<T></h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">DataSourceService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataSource</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">DataSourceMapper</span> dataSourceMapper<span class="token punctuation">;</span>        <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataSource</span><span class="token punctuation">></span></span> <span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> dataSourceMapper<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="BaseService类接口内容："><a href="#BaseService类接口内容：" class="headerlink" title="BaseService类接口内容："></a>BaseService类接口内容：</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BaseService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">BaseEntity</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * 需要实现，定义Mapper     *     * @return     */</span>    <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/**     * 分页查询     *     * @param pagination 分页对象     * @param wrapper    条件,排序自定义     * @return     */</span>    <span class="token keyword">default</span> <span class="token class-name">Pagination</span> <span class="token function">pageList</span><span class="token punctuation">(</span><span class="token class-name">Pagination</span> pagination<span class="token punctuation">,</span> <span class="token class-name">Wrapper</span> wrapper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Page</span> prepare <span class="token operator">=</span> pagination<span class="token punctuation">.</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>        pagination<span class="token punctuation">.</span><span class="token function">setList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> prepare<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> pagination<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 查询列表数据不分页     *     * @param wrapper 条件,排序自定义     * @return     */</span>    <span class="token keyword">default</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">List</span><span class="token punctuation">(</span><span class="token class-name">Wrapper</span> wrapper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> list<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 保存     *     * @param entity     * @return     */</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">T</span> entity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 更新     *     * @param entity     * @return     */</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">T</span> entity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 详情 通过主键查询一条记录     *     * @param id     * @return     */</span>    <span class="token keyword">default</span> <span class="token class-name">T</span> <span class="token function">detail</span><span class="token punctuation">(</span><span class="token class-name">Serializable</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 通过条件查询一条记录     *     * @param wrapper     * @return     */</span>    <span class="token keyword">default</span> <span class="token class-name">T</span> <span class="token function">selectOne</span><span class="token punctuation">(</span><span class="token class-name">Wrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> wrapper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 删除     *     * @param id 主键     * @return     */</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Serializable</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 批量删除     *     * @param ids 需要删除的编号集合     * @return     */</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token keyword">default</span> <span class="token keyword">int</span> <span class="token function">deleteBatch</span><span class="token punctuation">(</span><span class="token class-name">List</span> ids<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deleteBatchIds</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://pic.rmb.bdstatic.com/c51a5f2f5c1adfaabe43cdf4a4ef68e8.png" alt="佛祖保佑  永无BUG"></p>]]></content>
      
      
      <categories>
          
          <category> 编码 </category>
          
          <category> 减少incode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编码 </tag>
            
            <tag> 规范 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tabby</title>
      <link href="/platform.github.io/2022/08/11/Tabby/"/>
      <url>/platform.github.io/2022/08/11/Tabby/</url>
      
        <content type="html"><![CDATA[<h2 id="Tabby是一款开源终端工具，标星过万"><a href="#Tabby是一款开源终端工具，标星过万" class="headerlink" title="Tabby是一款开源终端工具，标星过万"></a>Tabby是一款开源终端工具，标星过万</h2><h3 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h3><p> 🍀 Tabby是一个无限可定制的跨平台终端应用程序，适用于local shells、serial、SSH和Telnet的连接。</p><p> 🍁 Tabby是基于TypeScript开发的终端模拟器，可用于Linux、Windows和Mac OS系统。</p><h3 id="二、下载安装"><a href="#二、下载安装" class="headerlink" title="二、下载安装"></a>二、下载安装</h3><p>💎 可去官网：<a href="https://tabby.sh/">https://tabby.sh</a> 下载并安装Tabby对应的版本。</p>]]></content>
      
      
      <categories>
          
          <category> 终端工具 </category>
          
          <category> tabby </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 终端工具 </tag>
            
            <tag> Linux </tag>
            
            <tag> tabby </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何在 Java8 中风骚走位避开空指针异常</title>
      <link href="/platform.github.io/2022/08/09/%E5%A6%82%E4%BD%95%E5%9C%A8%20Java8%20%E4%B8%AD%E9%A3%8E%E9%AA%9A%E8%B5%B0%E4%BD%8D%E9%81%BF%E5%BC%80%E7%A9%BA%E6%8C%87%E9%92%88%E5%BC%82%E5%B8%B8/"/>
      <url>/platform.github.io/2022/08/09/%E5%A6%82%E4%BD%95%E5%9C%A8%20Java8%20%E4%B8%AD%E9%A3%8E%E9%AA%9A%E8%B5%B0%E4%BD%8D%E9%81%BF%E5%BC%80%E7%A9%BA%E6%8C%87%E9%92%88%E5%BC%82%E5%B8%B8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>文章整理翻译自 <a href="https://winterbe.com/posts/2015/03/15/avoid-null-checks-in-java/">https://winterbe.com/posts/2015/03/15/avoid-null-checks-in-java/</a></p></blockquote><p><img src="https://exception-image-bucket.oss-cn-hangzhou.aliyuncs.com/154773518012868"></p><p>要说 Java 编程中哪个异常是你印象最深刻的，那 <code>NullPointerException</code> 空指针可以说是臭名昭著的。不要说初级程序员会碰到，<br>即使是中级，专家级程序员稍不留神，就会掉入这个坑里。</p><p><code>Null</code> 引用的发明者 <a href="http://en.wikipedia.org/wiki/Tony_Hoare">Tony Hoare</a> 曾在 2009 年作出道歉声明，声明中表示，到目前为止，空指针异常大约给企业已造成数十亿美元的损失。</p><p>下面是 Tony Hoare 的原话：</p><blockquote><p>我将 Null 引用的设计称为是一个数十亿美元的错误。1965 那年，我正在用面向对象语言(ALGOL W) 设计首个功能全面的系统。当时我的考量是，确保所有被使用的引用都是安全的，编译器会自动进行检查。但是，我没有抵住诱惑，加入了 Null 引用，仅仅是为了实现起来省事。这之后，它导致了数不清的 bug、错误和系统崩溃，也为企业导致了不可估量的损失。</p></blockquote><p>事已至此，我们必须学会面对它。So, 我们要如何防止空指针异常呢？</p><p>唯一的办法就是对可能为 Null 的对象添加检查。但是 Null 检查是繁琐且痛苦的。所以一些比较新的语言为了处理 Null 检查，特意添加了特殊的语法，如<a href="http://en.wikipedia.org/wiki/Null_coalescing_operator">空合并运算符</a>。</p><blockquote><p>在 <a href="http://groovy-lang.org/operators.html#_elvis_operator">Groovy</a> 或 <a href="http://kotlinlang.org/docs/reference/null-safety.html">Kotlin</a> 这样的语言中也被称为 <code>Elvis</code> 运算符。</p></blockquote><p>不幸的是，在老版本的 Java 中并没有提供这样的语法糖。Java8 中在这方面做了改进。所以，这篇文章就特意来介绍一下如何在 Java8 中利用新特性来编写防止 <code>NullPointerException</code>的发生。</p><h2 id="Java8-中如何加强对-Null-对象的检查？"><a href="#Java8-中如何加强对-Null-对象的检查？" class="headerlink" title="Java8 中如何加强对 Null 对象的检查？"></a>Java8 中如何加强对 Null 对象的检查？</h2><p>在上篇文章 <a href="">Java8 新特性指导手册</a> 中简单的提了一下如何通过 <code>Optional</code> 类来对对象做空校验。接下来，我们再细说一下：</p><p><img src="https://exception-image-bucket.oss-cn-hangzhou.aliyuncs.com/154773333584293"></p><p>在业务系统中，对象中嵌套对象是经常发生的场景，如下示例代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 最外层对象</span><span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Nested</span> nested<span class="token punctuation">;</span>    <span class="token class-name">Nested</span> <span class="token function">getNested</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> nested<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 第二层对象</span><span class="token keyword">class</span> <span class="token class-name">Nested</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Inner</span> inner<span class="token punctuation">;</span>    <span class="token class-name">Inner</span> <span class="token function">getInner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> inner<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 最底层对象</span><span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> foo<span class="token punctuation">;</span>    <span class="token class-name">String</span> <span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> foo<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>业务中，假设我们需要获取 <code>Outer</code> 对象对底层的 <code>Inner</code> 中的 <code>foo</code> 属性，我们必须写一堆的非空校验，来防止发生 <code>NullPointerException</code>：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 繁琐的代码</span><span class="token class-name">Outer</span> outer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>outer <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> outer<span class="token punctuation">.</span>nested <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> outer<span class="token punctuation">.</span>nested<span class="token punctuation">.</span>inner <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>outer<span class="token punctuation">.</span>nested<span class="token punctuation">.</span>inner<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="通过-Optional"><a href="#通过-Optional" class="headerlink" title="通过 Optional"></a>通过 Optional</h2><p>在 Java8 中，我们有更优雅的解决方式，那就是使用 <code>Optional</code>是说，我们可以在一行代码中，进行流水式的 <code>map</code> 操作。而 <strong>map 方法内部会自动进行空校验</strong>：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Outer</span><span class="token operator">::</span><span class="token function">getNested</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Nested</span><span class="token operator">::</span><span class="token function">getInner</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Inner</span><span class="token operator">::</span><span class="token function">getFoo</span>    <span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果不为空，最终输出 foo 的值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="通过-suppiler-函数自定义增强-API"><a href="#通过-suppiler-函数自定义增强-API" class="headerlink" title="通过 suppiler 函数自定义增强 API"></a>通过 suppiler 函数自定义增强 API</h2><p>上面这种方式个人感觉还是有点啰嗦，我们可以利用 <code>suppiler</code> 函数来出一个终极解决方案：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> resolver<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">T</span> result <span class="token operator">=</span> resolver<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NullPointerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 可能会抛出空指针异常，直接返回一个空的 Optional 对象</span>        <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>利用上面的 <code>resolve</code> 方法来重构上述的非空校验代码段：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Outer</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 直接调用 resolve 方法，内部做空指针的处理</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> obj<span class="token punctuation">.</span><span class="token function">getNested</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果不为空，最终输出 foo 的值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>你需要知道的是，上面这两个解决方案并没传统的 <code>null</code> 检查性能那么高效。但在绝大部分业务场景下，舍弃那么一丢丢的性能来方便编码，是完全可取，<br>除非是那种对性能有严格要求的场景，我们才不建议使用。</p><blockquote><p>个人觉得，真要拿这点性能说事，还不如去优化优化 sql 语句，业务逻辑等。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> jdk8 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> jdk8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java8 新特性并发篇(一) 线程与执行器</title>
      <link href="/platform.github.io/2022/08/09/Java8%20%E5%B9%B6%E5%8F%91%E7%AF%87(%E4%B8%80)%20%E7%BA%BF%E7%A8%8B%E4%B8%8E%E6%89%A7%E8%A1%8C%E5%99%A8/"/>
      <url>/platform.github.io/2022/08/09/Java8%20%E5%B9%B6%E5%8F%91%E7%AF%87(%E4%B8%80)%20%E7%BA%BF%E7%A8%8B%E4%B8%8E%E6%89%A7%E8%A1%8C%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本文翻译整理自 <a href="https://winterbe.com/posts/2015/04/07/java8-concurrency-tutorial-thread-executor-examples/">https://winterbe.com/posts/2015/04/07/java8-concurrency-tutorial-thread-executor-examples/</a></p></blockquote><p>欢迎进入 Java8 并发篇系列。此系列大概包括三篇教程：</p><ul><li><a href="#1">线程与执行器 Threads 与 Executors</a></li><li><a href="#1">同步与锁 Synchronization and Locks</a></li><li><a href="#1">原子变量与 ConcurrentMap</a></li></ul><p>本篇博文是此系列的第一篇，接下来的 15 分钟里，我将会通过一些简单易懂的示例代码来教会你，如何在 Java8 中进行并发编程，学会如何通过 <code>Thread</code>,  <code>Runable</code> 和 <code>Executor</code> 来并行执行代码。</p><p>关于 JDK 中 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html">并发 API</a> 是在 JDK1.5 中被首次引入的，并且在后续的版本中得到不断地增强。这篇文章中介绍的大部分名词概念同样适用于老版本，这一点你不用担心。本文的着重点在代码演示，如何使用 <code>lambda</code> 表达式以及新特性相关。</p><p>如果你对 <code>lambda</code> 表达式不是很熟悉，我推荐你先阅读我之前的文章：<a href="https://github.com/weiwosuoai/java8_guide">Java8 新特性指导手册</a></p><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul><li><p><a href="#1">一、Threads 与 Runnables</a></p></li><li><p><a href="#1">二、执行器 Executor</a></p></li><li><p><a href="#1">三、Callable 和 Future</a></p></li><li><p><a href="#1">四、超时设置</a></p></li><li><p><a href="#1">五、invokeAll</a></p></li><li><p><a href="#1">六、invokeAny</a></p></li><li><p><a href="#1">七、任务调度 ScheduledExecutor</a></p><p><img src="/platform.github.io/medias/pic/20190121141956.png"></p></li></ul><h2 id="Threads-与-Runnables"><a href="#Threads-与-Runnables" class="headerlink" title="Threads 与 Runnables"></a>Threads 与 Runnables</h2><p>可以肯定的是，所有的现代操作系统支持并发的手段无外乎<strong>进程</strong>和<strong>线程</strong>。进程通常可以理解为独立运行的程序实例，打个比方，你启动一个 Java 程序，这个时候操作系统就会创建一个新的进程，它可以与其他程序并行运行。而在这些进程的内部，我们可以通过线程来并发执行一段代码，一段业务逻辑。这样做有啥好处？好处就是，我们可以最大程度的发挥机器多核 CPU 的优势。</p><p>Java 从 1.0 版本就开始支持线程了。可以说是最基本的功能了，在老版本中，我们通常会实现 <code>Runnable</code> 接口，重写 <code>run()</code> 方法, 在方法内编写一段业务代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Runnable</span> task <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> threadName <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello "</span> <span class="token operator">+</span> threadName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>task<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Done!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>因为 Runnable 接口是一个函数式接口，我们直接采用 lambda 表达式来书写它，内部的业务逻辑是打印当前的线程名，控制台的输出可能存在两种情况：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Hello</span> main<span class="token class-name">Hello</span> <span class="token class-name">Thread</span><span class="token operator">-</span><span class="token number">0</span><span class="token class-name">Done</span><span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>或者：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Hello</span> main<span class="token class-name">Done</span><span class="token operator">!</span><span class="token class-name">Hello</span> <span class="token class-name">Thread</span><span class="token operator">-</span><span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>我们无法预测 <code>runnable</code> 是在主线程执行完成后执行还是之前执行，因为这种顺序的不确定性，使得在一个体量庞大的应用中，并发编程变得异常复杂。</p><p>我们可以在线程内部设置休眠时间，来模拟一个长时间运行的任务：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Runnable</span> runnable <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Foo "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 休眠一秒</span>        <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Bar "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runnable<span class="token punctuation">)</span><span class="token punctuation">;</span>thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>运行上面的代码，你会发现两条打印语句之间会间隔一秒。<code>TimeUnit</code> 在处理单位时间的时候，是一个很实用的枚举类，你也可以通过调用 <code>Thread.sleep(1000)</code> 来达到同样的目的。</p><p>我们不得不承认，使用 <code>Thread</code> 类是很乏味的且容易出错的。由于 Java 并发相关的 API 是在 2004 年 Java5 发布的时候才被正式引入的。它们被放置在 <code>java.util.concurrent</code> 包下，里面包含了很多处理并发编程有用的类。</p><p>这些并发 API 被引入后，在后续的 Java 版本中，又得到不断的增强，Java8 甚至提供了新的并发类和方法来处理并发。</p><p>废话不多说，接下来，让我们进入并发 API 中最重要的执行器： <code>Executor</code>.</p><h2 id="执行器-Executor"><a href="#执行器-Executor" class="headerlink" title="执行器 Executor"></a>执行器 Executor</h2><p>设计 <code>ExecutorService</code> 的目的是用来替代我们直接手动创建 <code>Thread</code>。<code>Executors</code> 支持运行异步任务，通常管理着一个线程池，线程池内部线程会得到复用，避免了频繁创建线程，销毁线程而带来的额外的系统开销。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 创建一个只包含一个线程的线程池</span><span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newSingleThreadExecutor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span><span class="token class-name">String</span> threadName <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello "</span> <span class="token operator">+</span> threadName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// => Hello pool-1-thread-1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>Executors</code> 类提供了便利的工厂方法用来不同类型的线程池。上面的示例中我们创建了一个只包含单线程的线程池 <code>executor</code>。</p><p>代码的输出结果与上面手动 new Runnable() 输出一致，唯一不同的是，<strong>Java 进程没有终止</strong>！</p><p><img src="/platform.github.io/medias/pic/20190121141052.jpg"></p><blockquote><p>注意：<code>Executors</code> 必须显示的终止它，否则它们将持续监听是否有新的任务需要执行。这也是为什么我在研发组中推荐小组人员创建线程池务必要交给 Spring Ioc 容器管理的原因。</p></blockquote><p>那么，如何优雅的关闭 <code>ExecutorService</code> 呢？</p><p><code>ExecutorService</code> 提供了两个方法：</p><ul><li>1.<code>shutdwon()</code> : 它会等待正在执行的任务执行完成后，再销毁线程池；</li><li>2.<code>shutdownNow()</code>： 它会立刻终止正在执行的任务，并销毁线程池；</li></ul><p>关闭 <code>ExecutorService</code> 最佳实践：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">try</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"attempt to shutdown executor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    executor<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 指定关闭之前的等待时间 5s，达到“温柔滴”关闭</span>    executor<span class="token punctuation">.</span><span class="token function">awaitTermination</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"tasks interrupted"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>executor<span class="token punctuation">.</span><span class="token function">isTerminated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"cancel non-finished tasks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    executor<span class="token punctuation">.</span><span class="token function">shutdownNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"shutdown finished"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Callable-和-Future"><a href="#Callable-和-Future" class="headerlink" title="Callable 和 Future"></a>Callable 和 Future</h2><p>除了 <code>Runnable</code>, <code>executor</code> 还支持另外一种任务类型 —— <code>Callable</code>。<code>Callable</code> 和 <code>Runnable</code> 类似，唯一不同的是，<code>Callable</code> 有返回值。</p><p>下面的示例代码中，我们通过 lambda 表达式定义了一个 <code>Callable</code>：休眠 1s 钟后，返回一个整数。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> task <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"task interrupted"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>Callable</code> 也可以像 <code>Runnable</code> 一样，作为入参，提交给 <code>executor</code>。这样的话，问题来了，我们怎么取到返回值呢？因为 <code>submit()</code> 方法不会阻塞等待任务完成的。</p><p>虽然 <code>executor</code> 不能直接返回 <code>Callable</code> 结果，不过，<code>executor</code> 可以返回一个 <code>Future</code> 类型的结果，他可以在稍后的某个时机取出实际的返回值。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> future <span class="token operator">=</span> executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"future done? "</span> <span class="token operator">+</span> future<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 这里会阻塞等待返回结果</span><span class="token class-name">Integer</span> result <span class="token operator">=</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"future done? "</span> <span class="token operator">+</span> future<span class="token punctuation">.</span><span class="token function">isDone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"result: "</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上面的这段代码，<code>Callable</code> 提交给 <code>executor</code> 后，我们先通过调用 <code>isDone()</code> 检查 <code>future</code> 是否执行完成，结果当然是 <code>false</code>, 因为 <code>future</code> 在返回那个整数之前，会休眠 1s。</p><p>后面到执行 <code>get()</code> 方法，线程会阻塞等待返回结果。整个流程走完，我们再来看下控制台的输出：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">future done<span class="token operator">?</span> <span class="token boolean">false</span>future done<span class="token operator">?</span> <span class="token boolean">true</span>result<span class="token operator">:</span> <span class="token number">123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>你需要注意，如果你关闭 <code>executor</code>, 所有为关闭的 <code>future</code> 都会抛出异常。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">executor<span class="token punctuation">.</span><span class="token function">shutdownNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>还有一点，你可能也注意到了，这次我们创建线程池并非使用 <code>newSingleThreadExecutor()</code>。而是通过<code>newFixedThreadPool(1)</code>来创建一个单线程线程池的 <code>executor</code>。 它等同于使用<code>newSingleThreadExecutor</code>，不过使用第二种方式我们动态的调整入参，比如传入一个比 1 大的值来增加线程池的大小。</p><h2 id="超时-Timeouts"><a href="#超时-Timeouts" class="headerlink" title="超时 Timeouts"></a>超时 Timeouts</h2><p>上面提到了，<code>future.get()</code> 那里会阻塞等待，直到 <code>callable</code> 返回值。我们试想一个最糟糕的情况，<code>callable</code> 持续运行导致你的程序没有响应，这显然是不能忍受的。我们可以通过传入一个超时时间来避免发生这种情况：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> future <span class="token operator">=</span> executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">123</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"task interrupted"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置超时时间为 1s</span>future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>执行上面这段代码，会抛出一个 TimeoutException：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Exception</span> in thread <span class="token string">"main"</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>TimeoutException</span>    at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>FutureTask</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">FutureTask</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">205</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>为什么抛出这个异常，原因很显然，我们指定的超时时间是 1s, 而任务中光休眠就是 2s 了。</p><h2 id="invokeAll"><a href="#invokeAll" class="headerlink" title="invokeAll"></a>invokeAll</h2><p><code>Executors</code> 支持通过 <code>invokeAll</code> 方法一次性批量提交多个 <code>callable</code>。这个方法的返回结果是一个 <code>future</code> 集合：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newWorkStealingPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Callable</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> callables <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token string">"task1"</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token string">"task2"</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token string">"task3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>executor<span class="token punctuation">.</span><span class="token function">invokeAll</span><span class="token punctuation">(</span>callables<span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>future <span class="token operator">-></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// 拿到每个 future 的返回值</span>            <span class="token keyword">return</span> future<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// for 循环输出结果</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上面这段示例代码，我们先利用 Java8 的 Stream 流来处理 <code>invokeAll()</code> 方法返回的 <code>future</code> 集合，取出每个 <code>future</code> 的返回值将其映射到一个 <code>List&lt;String&gt;</code> 集合中，最后循环输出结果。</p><h2 id="invokeAny"><a href="#invokeAny" class="headerlink" title="invokeAny"></a>invokeAny</h2><p>批量提交的另外一种方式是 <code>invokeAny()</code> , 同样是批量提交，它与 <code>invokeAll()</code> 不同点在于：它会阻塞等待，当某个 <code>callable</code> 第一个执行完成，它会立刻返回执行结果，而不再等待那些正在执行中的 <code>callable</code> 了。</p><p>为了测试，我们定义一个方法，用来模拟创建拥有不同执行时间的 <code>callable</code>：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">callable</span><span class="token punctuation">(</span><span class="token class-name">String</span> result<span class="token punctuation">,</span> <span class="token keyword">long</span> sleepSeconds<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>sleepSeconds<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后，我们创建一组 <code>callable</code>, 他们拥有不同的执行时间，1s 到 3s 的，通过<code>invokeAny()</code>将这些 callable 提交给<code>executor</code>，看看返回最快的 <code>callable</code> 的字符串结果是哪个：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newWorkStealingPool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Callable</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> callables <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token function">callable</span><span class="token punctuation">(</span><span class="token string">"task1"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">callable</span><span class="token punctuation">(</span><span class="token string">"task2"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">callable</span><span class="token punctuation">(</span><span class="token string">"task3"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> result <span class="token operator">=</span> executor<span class="token punctuation">.</span><span class="token function">invokeAny</span><span class="token punctuation">(</span>callables<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// => task2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>最快的是 task2, 它的执行时间最短，所以输出是它。</p><p>上面这段示例代码中，创建 <code>ExecutorService</code> 的方式又变了，通过 <code>Executors.newWorkStealingPool()</code>。这个工厂方法是 Java8 才引入的，返回值是一个 <code>ForkJoinPool</code>类型的 <code>executor</code>，它和指定固定大小的线程池不同，<code>ForkJoinPools</code> 允许指定一个并行因子来创建，默认的值为物理机可用的 CPU 核心数。</p><p><code>ForkJoinPools</code> 是在 Java7 中才被引入的，这将会在后面系列的教程中做详细介绍。敬请期待。</p><h2 id="任务调度-ScheduledExecutor"><a href="#任务调度-ScheduledExecutor" class="headerlink" title="任务调度 ScheduledExecutor"></a>任务调度 ScheduledExecutor</h2><p>上面我们已经学习了如何在一个 <code>executor</code> 中提交和运行一次任务。还有中场景是，我们需要多次运行一个常见的任务，这个时候，我们可以利用调度线程池。</p><p><code>ScheduledExecutorService</code>支持任务调度，持续执行或者延迟一段时间后再执行。</p><p>下面的代码示例，指定一个任务延迟 3 分钟再执行：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ScheduledExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Runnable</span> task <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Scheduling: "</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ScheduledFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> future <span class="token operator">=</span> executor<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1337</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> remainingDelay <span class="token operator">=</span> future<span class="token punctuation">.</span><span class="token function">getDelay</span><span class="token punctuation">(</span><span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Remaining Delay: %sms"</span><span class="token punctuation">,</span> remainingDelay<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>ScheduledExecutorService</code> 会返回一个增强类型的 <code>future</code> 类型 —— <code>ScheduleFuture</code>，它除了保有原有 <code>Future</code> 提供的所有方法外，还提供了 <code>getDelay()</code> 方法, 用来获取距离目标时间的时间差，也就是剩余的延迟时间。</p><p>为了保证调度任务的持续执行，<code>executors</code> 提供了两个 API:</p><ul><li>1.<code>scheduleAtFixedRate()</code> ：<strong>固定周期执行一个任务, 不考虑任务的耗时，即使上个任务还没有执行完毕，到了时间，下个任务依然会去执行</strong>;</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ScheduledExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Runnable</span> task <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Scheduling: "</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 第一次执行的延迟时间</span><span class="token keyword">int</span> initialDelay <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// 周期频率</span><span class="token keyword">int</span> period <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// 指定任务立刻执行，且每次之间间隔为 1s</span>executor<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> initialDelay<span class="token punctuation">,</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>注意：<code>initialDelay</code> 表示第一次执行的延迟时间，0 表示立即执行</p></blockquote><ul><li>2.<code>scheduleWithFixedDelay()</code> ：<strong>固定延迟执行任务，就是说，必须要等到上个任务执行完成后才开始计时，达到设定的延迟时间后，下个任务才会被触发</strong>；</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ScheduledExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Runnable</span> task <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Scheduling: "</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"task interrupted"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>executor<span class="token punctuation">.</span><span class="token function">scheduleWithFixedDelay</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>总结一下：<code>scheduleWithFixedDelay()</code> 和 <code>scheduleAtFixedRate()</code> 最大的区别就是，<code>scheduleWithFixedDelay()</code>需要等到前一个任务执行完成后才开始计延时，再触发下一个任务。</p></blockquote><p>如上面的示例代码中这个调度任务，设置了 1s 的延时，初始化延时为 0，假设理想情况下任务的耗时就是 2s, 则任务的调度周期为： <code>0s -&gt; 3s -&gt; 6s -&gt; 9s ....</code>, 它更适用于当你无法预测任务的执行时长的场景中使用。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这篇文章主要探讨了如何在用 <code>lambda</code> 表达式，在 Java8 中使用线程和执行器，并演示了相关示例代码。除此之外，我们还学习了 <code>Callable</code> 和 <code>Future</code>, 超时设置，任务的批量提交 <code>invokeAll()</code> 和 <code>invokeAny()</code> API。最后, 了解了如何在 Java8 中使用任务调度 <code>ScheduledExecutor</code>，希望你能有所收获。</p>]]></content>
      
      
      <categories>
          
          <category> jdk8 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> jdk8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java8 新特性教程</title>
      <link href="/platform.github.io/2022/08/09/jdk8/"/>
      <url>/platform.github.io/2022/08/09/jdk8/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本教程翻译整理自 <a href="https://github.com/winterbe/java8-tutorial">https://github.com/winterbe/java8-tutorial</a></p></blockquote><hr><p align="center"> ★★★ 如果此教程有帮助到您, <b>Star</b> 一下吧, 您还可以访问 :fire: <a href="https://www.exception.site/java8">《Java8 新特性指导手册》</a> :fire: 来阅读它. 谢谢啦! ★★★</p><hr><p>欢迎关注博主的微信公众号:「<b>小哈学Java</b>」, 关注即可<b>免费无套路领取 100G 小哈整理的各种 Java 学习资料</b>哟，祝您学习愉快！</p><h2 id="Java8-其他相关学习博文"><a href="#Java8-其他相关学习博文" class="headerlink" title="Java8 其他相关学习博文"></a>Java8 其他相关学习博文</h2><ul><li><a href="https://www.exception.site/java8/java8-stream-tutorial">Java8 Stream 流教教程</a></li><li><a href="http://localhost:8090/java8/java8-avoid-null-check">如何在 Java8 中风骚走位避开空指针异常</a></li><li><a href="https://www.exception.site/java8/java8-concurrency-tutorial-thread-exector">Java8 并发篇(一) | 线程与执行器</a></li></ul><h2 id="目录："><a href="#目录：" class="headerlink" title="目录："></a>目录：</h2><ul><li><a href="#%E6%8E%A5%E5%8F%A3%E5%86%85%E5%85%81%E8%AE%B8%E6%B7%BB%E5%8A%A0%E9%BB%98%E8%AE%A4%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%B9%E6%B3%95">一、接口内允许添加默认实现的方法</a></li><li><a href="#Lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F">二、Lambda 表达式</a></li><li><a href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3-Functional-Interface">三、函数式接口 Functional Interface</a></li><li><a href="#%E4%BE%BF%E6%8D%B7%E7%9A%84%E5%BC%95%E7%94%A8%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%99%A8%E5%8F%8A%E6%96%B9%E6%B3%95">四、便捷的引用类的构造器及方法</a></li><li><a href="#Lambda-%E8%AE%BF%E9%97%AE%E5%A4%96%E9%83%A8%E5%8F%98%E9%87%8F%E5%8F%8A%E6%8E%A5%E5%8F%A3%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95">五、Lambda 访问外部变量及接口默认方法</a><ul><li><a href="#%E8%AE%BF%E9%97%AE%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F">5.1 访问局部变量</a></li><li><a href="#%E8%AE%BF%E9%97%AE%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%E5%92%8C%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F">5.2 访问成员变量和静态变量</a></li><li><a href="#%E8%AE%BF%E9%97%AE%E6%8E%A5%E5%8F%A3%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95">5.3 访问接口的默认方法</a></li></ul></li><li><a href="#%E5%86%85%E7%BD%AE%E7%9A%84%E5%87%BD%E6%95%B0%E5%BC%8F%E6%8E%A5%E5%8F%A3">六、内置的函数式接口</a><ul><li><a href="#Predicate-%E6%96%AD%E8%A8%80">6.1 Predicate 断言</a></li><li><a href="#Function">6.2 Function</a></li><li><a href="#Supplier-%E7%94%9F%E4%BA%A7%E8%80%85">6.3 Supplier 生产者</a></li><li><a href="#Consumer-%E6%B6%88%E8%B4%B9%E8%80%85">6.4 Consumer 消费者</a></li><li><a href="#Comparator">6.5 Comparator</a></li></ul></li><li><a href="#Optional">七、Optional</a></li><li><a href="#Stream-%E6%B5%81">八、Streams 流</a><ul><li><a href="#Filter-%E8%BF%87%E6%BB%A4">8.1 Filter 过滤</a></li><li><a href="#Sorted-%E6%8E%92%E5%BA%8F">8.2 Sorted 排序</a></li><li><a href="#Map-%E8%BD%AC%E6%8D%A2">8.3 Map 转换</a></li><li><a href="#Match-%E5%8C%B9%E9%85%8D">8.4 Match 匹配</a></li><li><a href="#Count-%E8%AE%A1%E6%95%B0">8.5 Count 计数</a></li><li><a href="#Reduce">8.6 Reduce</a></li></ul></li><li><a href="#Parallel-Streams-%E5%B9%B6%E8%A1%8C%E6%B5%81">九、Parallel Streams 并行流</a><ul><li><a href="#%E9%A1%BA%E5%BA%8F%E6%B5%81%E6%8E%92%E5%BA%8F">9.1 顺序流排序</a></li><li><a href="#%E5%B9%B6%E8%A1%8C%E6%B5%81%E6%8E%92%E5%BA%8F">9.2 并行流排序</a></li></ul></li><li><a href="#Map-%E9%9B%86%E5%90%88">十、Map 集合</a></li><li><a href="#%E6%96%B0%E7%9A%84%E6%97%A5%E6%9C%9F-API">十一、新的日期 API</a><ul><li><a href="#Clock">11.1 Clock</a></li><li><a href="#Timezones-%E6%97%B6%E5%8C%BA">11.2 Timezones 时区</a></li><li><a href="#LocalTime">11.3 LocalTime</a></li><li><a href="#LocalDate">11.4 LocalDate</a></li><li><a href="#LocalDateTime">11.4 LocalDateTime</a></li></ul></li><li><a href="#Annotations-%E6%B3%A8%E8%A7%A3">十二、Annotations 注解</a></li></ul><p>也希望学完本系列教程的小伙伴能够熟练掌握和应用 Java8 的各种特性，使其成为在工作中的一门利器。废话不多说，让我们一起开启 Java8 新特性之旅吧！</p><h2 id="接口内允许添加默认实现的方法"><a href="#接口内允许添加默认实现的方法" class="headerlink" title="接口内允许添加默认实现的方法"></a>接口内允许添加默认实现的方法</h2><p>Java 8 允许我们通过 <code>default</code> 关键字对接口中定义的抽象方法提供一个默认的实现。</p><p>请看下面示例代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 定义一个公式接口</span><span class="token keyword">interface</span> <span class="token class-name">Formula</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 计算</span>    <span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 求平方根</span>    <span class="token keyword">default</span> <span class="token keyword">double</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在上面这个接口中，我们除了定义了一个抽象方法 <code>calculate</code>，还定义了一个带有默认实现的方法 <code>sqrt</code>。<br>我们在实现这个接口时，可以只需要实现 <code>calculate</code> 方法，默认方法 <code>sqrt</code> 可以直接调用即可，也就是说我们可以不必强制实现 <code>sqrt</code> 方法。</p><blockquote><p>补充：通过 <code>default</code> 关键字这个新特性，可以非常方便地对之前的接口做拓展，而此接口的实现类不必做任何改动。</p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Formula</span> formula <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Formula</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>formula<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 100.0</span>formula<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 4.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上面通过匿名对象实现了 <code>Formula</code> 接口。但是即使是这样，我们为了完成一个 <code>sqrt(a * 100)</code> 简单计算，就写了 6 行代码，很是冗余。</p><h2 id="Lambda-表达式"><a href="#Lambda-表达式" class="headerlink" title="Lambda 表达式"></a>Lambda 表达式</h2><p>在学习 <code>Lambda</code> 表达式之前，我们先来看一段老版本的示例代码，其对一个含有字符串的集合进行排序：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> names <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"peter"</span><span class="token punctuation">,</span> <span class="token string">"anna"</span><span class="token punctuation">,</span> <span class="token string">"mike"</span><span class="token punctuation">,</span> <span class="token string">"xenia"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">String</span> a<span class="token punctuation">,</span> <span class="token class-name">String</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>Collections</code> 工具类提供了静态方法 <code>sort</code> 方法，入参是一个 <code>List</code> 集合，和一个 <code>Comparator</code> 比较器，以便对给定的 <code>List</code> 集合进行<br>排序。上面的示例代码创建了一个匿名内部类作为入参，这种类似的操作在我们日常的工作中随处可见。</p><p>Java 8 中不再推荐这种写法，而是推荐使用 Lambda 表达：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">String</span> a<span class="token punctuation">,</span> <span class="token class-name">String</span> b<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>正如你看到的，上面这段代码变得简短很多而且易于阅读。但是我们还可以再精炼一点：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">String</span> a<span class="token punctuation">,</span> <span class="token class-name">String</span> b<span class="token punctuation">)</span> <span class="token operator">-></span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>对于只包含一行方法的代码块，我们可以省略大括号，直接 <code>return</code> 关键代码即可。追求极致，我们还可以让它再短点：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">names<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-></span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>List</code> 集合现在已经添加了 <code>sort</code> 方法。而且 Java 编译器能够根据<strong>类型推断机制</strong>判断出参数类型，这样，你连入参的类型都可以省略啦，怎么样，是不是感觉很强大呢！</p><h2 id="函数式接口-Functional-Interface"><a href="#函数式接口-Functional-Interface" class="headerlink" title="函数式接口 Functional Interface"></a>函数式接口 Functional Interface</h2><p>抛出一个疑问：在我们书写一段 Lambda 表达式后（比如上一章节中匿名内部类的 Lambda 表达式缩写形式），Java 编译器是如何进行类型推断的，它又是怎么知道重写的哪个方法的？</p><p>需要说明的是，不是每个接口都可以缩写成 Lambda 表达式。只有那些函数式接口（Functional Interface）才能缩写成 Lambda 表示式。</p><p>那么什么是函数式接口（Functional Interface）呢？</p><p>所谓函数式接口（Functional Interface）就是只包含一个抽象方法的声明。针对该接口类型的所有 Lambda 表达式都会与这个抽象方法匹配。</p><blockquote><p>注意：你可能会有疑问，Java 8 中不是允许通过 defualt 关键字来为接口添加默认方法吗？那它算不算抽象方法呢？答案是：不算。因此，你可以毫无顾忌的添加默认方法，它并不违反函数式接口（Functional Interface）的定义。</p></blockquote><p>总结一下：只要接口中仅仅包含一个抽象方法，我们就可以将其改写为 Lambda 表达式。为了保证一个接口明确的被定义为一个函数式接口（Functional Interface），我们需要为该接口添加注解：<code>@FunctionalInterface</code>。这样，一旦你添加了第二个抽象方法，编译器会立刻抛出错误提示。</p><p>示例代码：</p><pre><code>@FunctionalInterfaceinterface Converter&lt;F, T&gt; &#123;    T convert(F from);&#125;</code></pre><p>示例代码2：</p><pre><code>Converter&lt;String, Integer&gt; converter = (from) -&gt; Integer.valueOf(from);Integer converted = converter.convert(&quot;123&quot;);System.out.println(converted);    // 123</code></pre><blockquote><p>注意：上面的示例代码，即使去掉 <code>@FunctionalInterface</code> 也是好使的，它仅仅是一种约束而已。</p></blockquote><h2 id="便捷的引用类的构造器及方法"><a href="#便捷的引用类的构造器及方法" class="headerlink" title="便捷的引用类的构造器及方法"></a>便捷的引用类的构造器及方法</h2><p>小伙伴们，还记得上一个章节这段示例代码么：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@FunctionalInterface</span><span class="token keyword">interface</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">F</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">F</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> converter <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Integer</span> converted <span class="token operator">=</span> converter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>converted<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>上面这段代码，通过 Java 8 的新特性，进一步简化上面的代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> converter <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">;</span><span class="token class-name">Integer</span> converted <span class="token operator">=</span> converter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>converted<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 123</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Java 8 中允许你通过 <code>::</code> 关键字来引用类的方法或构造器。上面的代码简单的示例了如何引用静态方法，当然，除了静态方法，我们还可以引用普通方法：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Something</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Something</span> something <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Something</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> converter <span class="token operator">=</span> something<span class="token operator">::</span><span class="token function">startsWith</span><span class="token punctuation">;</span><span class="token class-name">String</span> converted <span class="token operator">=</span> converter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token string">"Java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>converted<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// "J"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>接下来，我们再来看看如何通过 <code>::</code> 关键字来引用类的构造器。首先，我们先来定义一个示例类，在类中声明两个构造器：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>    <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> firstName<span class="token punctuation">,</span> <span class="token class-name">String</span> lastName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后，我们再定义一个工厂接口，用来生成 <code>Person</code> 类：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Person 工厂</span><span class="token keyword">interface</span> <span class="token class-name">PersonFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">P</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">P</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">String</span> firstName<span class="token punctuation">,</span> <span class="token class-name">String</span> lastName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>我们可以通过 <code>::</code> 关键字来引用 <code>Person</code> 类的构造器，来代替手动去实现这个工厂接口：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 直接引用 Person 构造器</span><span class="token class-name">PersonFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> personFactory <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span><span class="token class-name">Person</span> person <span class="token operator">=</span> personFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">"Peter"</span><span class="token punctuation">,</span> <span class="token string">"Parker"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>Person::new</code> 这段代码，能够直接引用 <code>Person</code> 类的构造器。然后 Java 编译器能够根据上下文选中正确的构造器去实现 <code>PersonFactory.create</code> 方法。</p><h2 id="Lambda-访问外部变量及接口默认方法"><a href="#Lambda-访问外部变量及接口默认方法" class="headerlink" title="Lambda 访问外部变量及接口默认方法"></a>Lambda 访问外部变量及接口默认方法</h2><p>在本章节中，我们将会讨论如何在 lambda 表达式中访问外部变量（包括：局部变量，成员变量，静态变量，接口的默认方法.），它与匿名内部类访问外部变量很相似。</p><h3 id="访问局部变量"><a href="#访问局部变量" class="headerlink" title="访问局部变量"></a>访问局部变量</h3><p>在 Lambda 表达式中，我们可以访问外部的 <code>final</code> 类型变量，如下面的示例代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 转换器</span><span class="token annotation punctuation">@FunctionalInterface</span><span class="token keyword">interface</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">F</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">F</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">final</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter <span class="token operator">=</span>        <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>stringConverter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>与匿名内部类不同的是，我们不必显式声明 <code>num</code> 变量为 <code>final</code> 类型，下面这段代码同样有效：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter <span class="token operator">=</span>        <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>stringConverter<span class="token punctuation">.</span><span class="token function">convert</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>但是 <code>num</code> 变量必须为隐式的 <code>final</code> 类型，何为隐式的 <code>final</code> 呢？就是说到编译期为止，<code>num</code> 对象是不能被改变的，如下面这段代码，就不能被编译通过：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter <span class="token operator">=</span>        <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>在 lambda 表达式内部改变 <code>num</code> 值同样编译不通过，需要注意, 比如下面的示例代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> converter <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span><span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token keyword">return</span> value<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="访问成员变量和静态变量"><a href="#访问成员变量和静态变量" class="headerlink" title="访问成员变量和静态变量"></a>访问成员变量和静态变量</h3><p>上一章节中，了解了如何在 Lambda 表达式中访问局部变量。与局部变量相比，在 Lambda 表达式中对成员变量和静态变量拥有读写权限：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@FunctionalInterface</span><span class="token keyword">interface</span> <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">F</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">T</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token class-name">F</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Lambda4</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 静态变量</span>        <span class="token keyword">static</span> <span class="token keyword">int</span> outerStaticNum<span class="token punctuation">;</span>        <span class="token comment">// 成员变量</span>        <span class="token keyword">int</span> outerNum<span class="token punctuation">;</span>        <span class="token keyword">void</span> <span class="token function">testScopes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter1 <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>                <span class="token comment">// 对成员变量赋值</span>                outerNum <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            <span class="token class-name">Converter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> stringConverter2 <span class="token operator">=</span> <span class="token punctuation">(</span>from<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">&#123;</span>                <span class="token comment">// 对静态变量赋值</span>                outerStaticNum <span class="token operator">=</span> <span class="token number">72</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="访问接口的默认方法"><a href="#访问接口的默认方法" class="headerlink" title="访问接口的默认方法"></a>访问接口的默认方法</h3><p>还记得第一章节中定义的那个 <code>Formula</code> (公式) 接口吗？</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@FunctionalInterface</span><span class="token keyword">interface</span> <span class="token class-name">Formula</span> <span class="token punctuation">&#123;</span><span class="token comment">// 计算</span><span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 求平方根</span><span class="token keyword">default</span> <span class="token keyword">double</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>当时，我们在接口中定义了一个带有默认实现的 <code>sqrt</code> 求平方根方法，在匿名内部类中我们可以很方便的访问此方法：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Formula</span> formula <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Formula</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>但是在 lambda 表达式中可不行：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Formula</span> formula <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token function">sqrt</span><span class="token punctuation">(</span>a <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>带有默认实现的接口方法，是<strong>不能</strong>在 lambda 表达式中访问的，上面这段代码将无法被编译通过。</p><h2 id="内置的函数式接口"><a href="#内置的函数式接口" class="headerlink" title="内置的函数式接口"></a>内置的函数式接口</h2><p>JDK 1.8 API 包含了很多内置的函数式接口。其中就包括我们在老版本中经常见到的 Comparator 和 Runnable，Java 8 为他们都添加了 @FunctionalInterface 注解，以用来支持 Lambda 表达式。</p><p>值得一提的是，除了 Comparator 和 Runnable 外，还有一些新的函数式接口，它们很多都借鉴于知名的 <a href="https://github.com/google/guava">Google Guava</a> 库。</p><p>对于它们，即使你已经非常熟悉了，还是最好了解一下的：</p><h3 id="Predicate-断言"><a href="#Predicate-断言" class="headerlink" title="Predicate 断言"></a>Predicate 断言</h3><p><code>Predicate</code> 是一个可以指定入参类型，并返回 boolean 值的函数式接口。它内部提供了一些带有默认实现的方法，可以<br>被用来组合一个复杂的逻辑判断（<code>and</code>, <code>or</code>, <code>negate</code>）：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> predicate <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span>predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// true</span>predicate<span class="token punctuation">.</span><span class="token function">negate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// false</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">></span></span> nonNull <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token operator">::</span><span class="token function">nonNull</span><span class="token punctuation">;</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">></span></span> isNull <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token operator">::</span><span class="token function">isNull</span><span class="token punctuation">;</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> isEmpty <span class="token operator">=</span> <span class="token class-name">String</span><span class="token operator">::</span><span class="token function">isEmpty</span><span class="token punctuation">;</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> isNotEmpty <span class="token operator">=</span> isEmpty<span class="token punctuation">.</span><span class="token function">negate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><p><code>Function</code> 函数式接口的作用是，我们可以为其提供一个原料，他给生产一个最终的产品。通过它提供的默认方法，组合,链行处理(<code>compose</code>, <code>andThen</code>)：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> toInteger <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">;</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> backToString <span class="token operator">=</span> toInteger<span class="token punctuation">.</span><span class="token function">andThen</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span><span class="token punctuation">;</span>backToString<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// "123"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Supplier-生产者"><a href="#Supplier-生产者" class="headerlink" title="Supplier 生产者"></a>Supplier 生产者</h3><p><code>Supplier</code> 与 <code>Function</code> 不同，它不接受入参，直接为我们生产一个指定的结果，有点像生产者模式：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>    <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> firstName<span class="token punctuation">,</span> <span class="token class-name">String</span> lastName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> personSupplier <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>personSupplier<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// new Person</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Consumer-消费者"><a href="#Consumer-消费者" class="headerlink" title="Consumer 消费者"></a>Consumer 消费者</h3><p>对于 <code>Consumer</code>，我们需要提供入参，用来被消费，如下面这段示例代码：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>    <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>    <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> firstName<span class="token punctuation">,</span> <span class="token class-name">String</span> lastName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> firstName<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> lastName<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> greeter <span class="token operator">=</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello, "</span> <span class="token operator">+</span> p<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>greeter<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Luke"</span><span class="token punctuation">,</span> <span class="token string">"Skywalker"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Comparator"><a href="#Comparator" class="headerlink" title="Comparator"></a>Comparator</h3><p><code>Comparator</code> 在 Java 8 之前是使用比较普遍的。Java 8 中除了将其升级成了函数式接口，还为它拓展了一些默认方法：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">></span></span> comparator <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span> <span class="token operator">-></span> p1<span class="token punctuation">.</span>firstName<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token string">"Doe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"Alice"</span><span class="token punctuation">,</span> <span class="token string">"Wonderland"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>comparator<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// > 0</span>comparator<span class="token punctuation">.</span><span class="token function">reversed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &lt; 0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h2><p>首先，<code>Optional</code> 它不是一个函数式接口，设计它的目的是为了防止空指针异常（<code>NullPointerException</code>），要知道在 Java 编程中，<br>空指针异常可是臭名昭著的。</p><p>让我们来快速了解一下 <code>Optional</code> 要如何使用！你可以将 <code>Optional</code> 看做是包装对象（可能是 <code>null</code>, 也有可能非 <code>null</code>）的容器。当你定义了<br>一个方法，这个方法返回的对象可能是空，也有可能非空的时候，你就可以考虑用 <code>Optional</code> 来包装它，这也是在 Java 8 被推荐使用的做法。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> optional <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"bam"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>optional<span class="token punctuation">.</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// true</span>optional<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// "bam"</span>optional<span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token string">"fallback"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// "bam"</span>optional<span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// "b"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Stream-流"><a href="#Stream-流" class="headerlink" title="Stream 流"></a>Stream 流</h2><p>这一章节，我们开始步入学习 <code>Stream</code> 流。</p><p><em>什么是 <code>Stream</code> 流？</em></p><p>简单来说，我们可以使用 <code>java.util.Stream</code> 对一个包含一个或多个元素的集合做各种操作。这些操作可能是 <em>中间操作</em> 亦或是 _终端操作_。<br>终端操作会返回一个结果，而中间操作会返回一个 <code>Stream</code> 流。</p><p>需要注意的是，你只能对实现了 <code>java.util.Collection</code> 接口的类做流的操作。</p><blockquote><p><code>Map</code> 不支持 <code>Stream</code> 流。</p></blockquote><p><code>Stream</code> 流支持同步执行，也支持并发执行。 </p><p>让我们开始步入学习的旅程吧！Go !</p><h3 id="Filter-过滤"><a href="#Filter-过滤" class="headerlink" title="Filter 过滤"></a>Filter 过滤</h3><p>首先，我们创建一个 <code>List</code> 集合：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> stringCollection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ddd2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"aaa2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"bbb1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"aaa1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"bbb3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ccc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"bbb2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringCollection<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ddd1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>Filter</code> 的入参是一个 <code>Predicate</code>, 上面已经说到，<code>Predicate</code> 是一个断言的中间操作，它能够帮我们筛选出我们需要的集合元素。它的返参同样<br>是一个 <code>Stream</code> 流，我们可以通过 <code>foreach</code> 终端操作，来打印被筛选的元素：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">stringCollection    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "aaa2", "aaa1"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>注意：<code>foreach</code> 是一个终端操作，它的返参是 <code>void</code>, 我们无法对其再次进行流操作。</p></blockquote><h3 id="Sorted-排序"><a href="#Sorted-排序" class="headerlink" title="Sorted 排序"></a>Sorted 排序</h3><p><code>Sorted</code> 同样是一个中间操作，它的返参是一个 <code>Stream</code> 流。另外，我们可以传入一个 <code>Comparator</code> 用来自定义排序，如果不传，则使用默认的排序规则。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">stringCollection    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "aaa1", "aaa2"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>需要注意，<code>sorted</code> 不会对 <code>stringCollection</code> 做出任何改变，<code>stringCollection</code> 还是原有的那些个元素，且顺序不变：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stringCollection<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ddd2, aaa2, bbb1, aaa1, bbb3, ccc, bbb2, ddd1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Map-转换"><a href="#Map-转换" class="headerlink" title="Map 转换"></a>Map 转换</h3><p>中间操作 <code>Map</code> 能够帮助我们将 <code>List</code> 中的每一个元素做功能处理。例如下面的示例，通过 <code>map</code> 我们将每一个 <code>string</code> 转成大写：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">stringCollection    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">toUpperCase</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">-></span> b<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "DDD2", "DDD1", "CCC", "BBB3", "BBB2", "AAA2", "AAA1"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>另外，我们还可以做对象之间的转换，业务中比较常用的是将 <code>DO</code>（数据库对象） 转换成 <code>BO</code>（业务对象） 。</p><h3 id="Match-匹配"><a href="#Match-匹配" class="headerlink" title="Match 匹配"></a>Match 匹配</h3><p>顾名思义，<code>match</code> 用来做匹配操作，它的返回值是一个 <code>boolean</code> 类型。通过 <code>match</code>, 我们可以方便的验证一个 <code>list</code> 中是否存在某个类型的元素。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 验证 list 中 string 是否有以 a 开头的, 匹配到第一个，即返回 true</span><span class="token keyword">boolean</span> anyStartsWithA <span class="token operator">=</span>    stringCollection        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">anyMatch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>anyStartsWithA<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span><span class="token comment">// 验证 list 中 string 是否都是以 a 开头的</span><span class="token keyword">boolean</span> allStartsWithA <span class="token operator">=</span>    stringCollection        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">allMatch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>allStartsWithA<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span><span class="token comment">// 验证 list 中 string 是否都不是以 z 开头的,</span><span class="token keyword">boolean</span> noneStartsWithZ <span class="token operator">=</span>    stringCollection        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">noneMatch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"z"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>noneStartsWithZ<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Count-计数"><a href="#Count-计数" class="headerlink" title="Count 计数"></a>Count 计数</h3><p><code>count</code> 是一个终端操作，它能够统计 <code>stream</code> 流中的元素总数，返回值是 <code>long</code> 类型。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 先对 list 中字符串开头为 b 进行过滤，让后统计数量</span><span class="token keyword">long</span> startsWithB <span class="token operator">=</span>    stringCollection        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>startsWithB<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h3><p><code>Reduce</code> 中文翻译为：_减少、缩小_。通过入参的 <code>Function</code>，我们能够将 <code>list</code> 归约成一个值。它的返回类型是 <code>Optional</code> 类型。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> reduced <span class="token operator">=</span>    stringCollection        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span> <span class="token operator">-></span> s1 <span class="token operator">+</span> <span class="token string">"#"</span> <span class="token operator">+</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>reduced<span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "aaa1#aaa2#bbb1#bbb2#bbb3#ccc#ddd1#ddd2"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Parallel-Streams-并行流"><a href="#Parallel-Streams-并行流" class="headerlink" title="Parallel-Streams 并行流"></a>Parallel-Streams 并行流</h2><p>前面章节我们说过，<code>stream</code> 流是支持<strong>顺序</strong>和<strong>并行</strong>的。顺序流操作是单线程操作，而并行流是通过多线程来处理的，能够充分利用物理机<br>多核 CPU 的优势，同时处理速度更快。</p><p>首先，我们创建一个包含 1000000 UUID list 集合。 </p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> values <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">UUID</span> uuid <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    values<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>uuid<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>分别通过顺序流和并行流，对这个 list 进行排序，测算耗时:</p><h3 id="顺序流排序"><a href="#顺序流排序" class="headerlink" title="顺序流排序"></a>顺序流排序</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 纳秒</span><span class="token keyword">long</span> t0 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> count <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> t1 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 纳秒转微秒</span><span class="token keyword">long</span> millis <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>NANOSECONDS<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span>t1 <span class="token operator">-</span> t0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"顺序流排序耗时: %d ms"</span><span class="token punctuation">,</span> millis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 顺序流排序耗时: 899 ms</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="并行流排序"><a href="#并行流排序" class="headerlink" title="并行流排序"></a>并行流排序</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 纳秒</span><span class="token keyword">long</span> t0 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> count <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> t1 <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 纳秒转微秒</span><span class="token keyword">long</span> millis <span class="token operator">=</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>NANOSECONDS<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span>t1 <span class="token operator">-</span> t0<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"并行流排序耗时: %d ms"</span><span class="token punctuation">,</span> millis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 并行流排序耗时: 472 ms</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>正如你所见，同样的逻辑处理，通过并行流，我们的性能提升了近 **50%**。完成这一切，我们需要做的仅仅是将 <code>stream</code> 改成了 <code>parallelStream</code>。</p><h2 id="Map-集合"><a href="#Map-集合" class="headerlink" title="Map 集合"></a>Map 集合</h2><p>前面已经提到过 <code>Map</code> 是不支持 <code>Stream</code> 流的，因为 <code>Map</code> 接口并没有像 <code>Collection</code> 接口那样，定义了 <code>stream()</code> 方法。但是，我们可以对其 <code>key</code>, <code>values</code>, <code>entry</code> 使用<br>流操作，如 <code>map.keySet().stream()</code>, <code>map.values().stream()</code> 和 <code>map.entrySet().stream()</code>.</p><p>另外, JDK 8 中对 <code>map</code> 提供了一些其他新特性:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 与老版不同的是，putIfAbent() 方法在 put 之前，</span>    <span class="token comment">// 会判断 key 是否已经存在，存在则直接返回 value, 否则 put, 再返回 value</span>    map<span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token string">"val"</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// forEach 可以很方便地对 map 进行遍历操作</span>map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>除了上面的 <code>putIfAbsent()</code> 和 <code>forEach()</code> 外，我们还可以很方便地对某个 <code>key</code> 的值做相关操作：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// computeIfPresent(), 当 key 存在时，才会做相关处理</span><span class="token comment">// 如下：对 key 为 3 的值，内部会先判断值是否存在，存在，则做 value + key 的拼接操作</span>map<span class="token punctuation">.</span><span class="token function">computeIfPresent</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>num<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">-></span> val <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val33</span><span class="token comment">// 先判断 key 为 9 的元素是否存在，存在，则做删除操作</span>map<span class="token punctuation">.</span><span class="token function">computeIfPresent</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>num<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// false</span><span class="token comment">// computeIfAbsent(), 当 key 不存在时，才会做相关处理</span><span class="token comment">// 如下：先判断 key 为 23 的元素是否存在，不存在，则添加</span>map<span class="token punctuation">.</span><span class="token function">computeIfAbsent</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> num <span class="token operator">-></span> <span class="token string">"val"</span> <span class="token operator">+</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span><span class="token comment">// 先判断 key 为 3 的元素是否存在，存在，则不做任何处理</span>map<span class="token punctuation">.</span><span class="token function">computeIfAbsent</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> num <span class="token operator">-></span> <span class="token string">"bam"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>关于删除操作，JDK 8 中提供了能够新的 <code>remove()</code> API:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"val3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val33</span>map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"val33"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// null</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如上代码，只有当给定的 <code>key</code> 和 <code>value</code> 完全匹配时，才会执行删除操作。</p><p>关于添加方法，JDK 8 中提供了带有默认值的 <code>getOrDefault()</code> 方法：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 若 key 42 不存在，则返回 not found</span>map<span class="token punctuation">.</span><span class="token function">getOrDefault</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">,</span> <span class="token string">"not found"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// not found</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>对于 <code>value</code> 的合并操作也变得更加简单：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// merge 方法，会先判断进行合并的 key 是否存在，不存在，则会添加元素</span>map<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"val9"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token operator">-></span> value<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val9</span><span class="token comment">// 若 key 的元素存在，则对 value 执行拼接操作</span>map<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"concat"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token operator">-></span> value<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// val9concat</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="新的日期-API"><a href="#新的日期-API" class="headerlink" title="新的日期 API"></a>新的日期 API</h2><p>Java 8 中在包 <code>java.time</code> 下添加了新的日期 API. 它和 <a href="http://www.joda.org/joda-time/">Joda-Time</a> 库相似，但又不完全相同。接下来，我会通过一些示例代码介绍一下新 API 中<br>最关键的特性：</p><h3 id="Clock"><a href="#Clock" class="headerlink" title="Clock"></a>Clock</h3><p><code>Clock</code> 提供对当前日期和时间的访问。我们可以利用它来替代 <code>System.currentTimeMillis()</code> 方法。另外，通过 <code>clock.instant()</code> 能够获取一个 <code>instant</code> 实例，<br>此实例能够方便地转换成老版本中的 <code>java.util.Date</code> 对象。 </p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Clock</span> clock <span class="token operator">=</span> <span class="token class-name">Clock</span><span class="token punctuation">.</span><span class="token function">systemDefaultZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> millis <span class="token operator">=</span> clock<span class="token punctuation">.</span><span class="token function">millis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Instant</span> instant <span class="token operator">=</span> clock<span class="token punctuation">.</span><span class="token function">instant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> legacyDate <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>instant<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 老版本 java.util.Date</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Timezones-时区"><a href="#Timezones-时区" class="headerlink" title="Timezones 时区"></a>Timezones 时区</h3><p><code>ZoneId</code> 代表时区类。通过静态工厂方法方便地获取它，入参我们可以传入某个时区编码。另外，时区类还定义了一个偏移量，用来在当前时刻或某时间<br>与目标时区时间之间进行转换。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">getAvailableZoneIds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// prints all available timezone ids</span><span class="token class-name">ZoneId</span> zone1 <span class="token operator">=</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"Europe/Berlin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ZoneId</span> zone2 <span class="token operator">=</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"Brazil/East"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zone1<span class="token punctuation">.</span><span class="token function">getRules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zone2<span class="token punctuation">.</span><span class="token function">getRules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ZoneRules[currentStandardOffset=+01:00]</span><span class="token comment">// ZoneRules[currentStandardOffset=-03:00]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LocalTime"><a href="#LocalTime" class="headerlink" title="LocalTime"></a>LocalTime</h3><p><code>LocalTime</code> 表示一个没有指定时区的时间类，例如，<code>10 p.m</code>.或者 <code>17：30:15</code>，下面示例代码中，将会使用上面创建的<br>时区对象创建两个 <code>LocalTime</code>。然后我们会比较两个时间，并计算它们之间的小时和分钟的不同。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalTime</span> now1 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>zone1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalTime</span> now2 <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>zone2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>now1<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>now2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span><span class="token keyword">long</span> hoursBetween <span class="token operator">=</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>HOURS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>now1<span class="token punctuation">,</span> now2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">long</span> minutesBetween <span class="token operator">=</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>MINUTES<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>now1<span class="token punctuation">,</span> now2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hoursBetween<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// -3</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>minutesBetween<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// -239</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>LocalTime</code> 提供多个静态工厂方法，目的是为了简化对时间对象实例的创建和操作，包括对时间字符串进行解析的操作等。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalTime</span> late <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>late<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 23:59:59</span><span class="token class-name">DateTimeFormatter</span> germanFormatter <span class="token operator">=</span>    <span class="token class-name">DateTimeFormatter</span>        <span class="token punctuation">.</span><span class="token function">ofLocalizedTime</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span>SHORT<span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">withLocale</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span>GERMAN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalTime</span> leetTime <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"13:37"</span><span class="token punctuation">,</span> germanFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>leetTime<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 13:37</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="LocalDate"><a href="#LocalDate" class="headerlink" title="LocalDate"></a>LocalDate</h2><p><code>LocalDate</code> 是一个日期对象，例如：<code>2014-03-11</code>。它和 <code>LocalTime</code> 一样是个 <code>final</code> 类型对象。下面的例子演示了如何通过加减日，月，年等来计算一个新的日期。</p><blockquote><p><code>LocalDate</code>, <code>LocalTime</code>, 因为是 <code>final</code> 类型的对象，每一次操作都会返回一个新的时间对象。</p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalDate</span> today <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 今天加一天</span><span class="token class-name">LocalDate</span> tomorrow <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 明天减两天</span><span class="token class-name">LocalDate</span> yesterday <span class="token operator">=</span> tomorrow<span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2014 年七月的第四天</span><span class="token class-name">LocalDate</span> independenceDay <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span>JULY<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DayOfWeek</span> dayOfWeek <span class="token operator">=</span> independenceDay<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dayOfWeek<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 星期五</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>也可以直接解析日期字符串，生成 <code>LocalDate</code> 实例。（和 <code>LocalTime</code> 操作一样简单）</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">DateTimeFormatter</span> germanFormatter <span class="token operator">=</span>    <span class="token class-name">DateTimeFormatter</span>        <span class="token punctuation">.</span><span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span>MEDIUM<span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">withLocale</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span>GERMAN<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalDate</span> xmas <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"24.12.2014"</span><span class="token punctuation">,</span> germanFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xmas<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 2014-12-24</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LocalDateTime"><a href="#LocalDateTime" class="headerlink" title="LocalDateTime"></a>LocalDateTime</h3><p><code>LocalDateTime</code> 是一个<strong>日期-时间</strong>对象。你也可以将其看成是 <code>LocalDate</code> 和 <code>LocalTime</code> 的结合体。操作上，也大致相同。</p><blockquote><p><code>LocalDateTime</code> 同样是一个 <code>final</code> 类型对象。</p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">LocalDateTime</span> sylvester <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2014</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span>DECEMBER<span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">DayOfWeek</span> dayOfWeek <span class="token operator">=</span> sylvester<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dayOfWeek<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 星期三</span><span class="token class-name">Month</span> month <span class="token operator">=</span> sylvester<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>month<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 十二月</span><span class="token comment">// 获取改时间是该天中的第几分钟</span><span class="token keyword">long</span> minuteOfDay <span class="token operator">=</span> sylvester<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span><span class="token class-name">ChronoField</span><span class="token punctuation">.</span>MINUTE_OF_DAY<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>minuteOfDay<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1439</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果再加上的时区信息，<code>LocalDateTime</code> 还能够被转换成 <code>Instance</code> 实例。<code>Instance</code> 能够被转换成老版本中 <code>java.util.Date</code> 对象。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Instant</span> instant <span class="token operator">=</span> sylvester        <span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> legacyDate <span class="token operator">=</span> <span class="token class-name">Date</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>instant<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>legacyDate<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Wed Dec 31 23:59:59 CET 2014</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>格式化 <code>LocalDateTime</code> 对象就和格式化 LocalDate 或者 LocalTime 一样。除了使用预定义的格式以外，也可以自定义格式化输出。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">DateTimeFormatter</span> formatter <span class="token operator">=</span>    <span class="token class-name">DateTimeFormatter</span>        <span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"MMM dd, yyyy - HH:mm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LocalDateTime</span> parsed <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"Nov 03, 2014 - 07:13"</span><span class="token punctuation">,</span> formatter<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> string <span class="token operator">=</span> formatter<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>parsed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Nov 03, 2014 - 07:13</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>注意：和 <code>java.text.NumberFormat</code> 不同，新的 <code>DateTimeFormatter</code> 类是 <code>final</code> 类型的，同时也是线程安全的。更多细节请查看<a href="http://download.java.net/jdk8/docs/api/java/time/format/DateTimeFormatter.html">这里</a></p></blockquote><h2 id="Annotations-注解"><a href="#Annotations-注解" class="headerlink" title="Annotations 注解"></a>Annotations 注解</h2><p>在 Java 8 中，注解是可以重复的。让我通过下面的示例代码，来看看到底是咋回事。</p><p>首先，我们定义一个包装注解，里面包含了一个有着实际注解的数组：</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@interface</span> <span class="token class-name">Hints</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Hint</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">Hints</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token annotation punctuation">@interface</span> <span class="token class-name">Hint</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Java 8 中，通过 <code>@Repeatable</code>，允许我们对同一个类使用多重注解：</p><p>第一种形态：使用注解容器（老方法）</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Hints</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint2"</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>第二种形态：使用可重复注解（新方法）</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint1"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Hint</span><span class="token punctuation">(</span><span class="token string">"hint2"</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>使用第二种形态，Java 编译器能够在内部自动对 <code>@Hint</code> 进行设置。这对于需要通过反射来读取注解信息时，是非常重要的。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Hint</span> hint <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Hint</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hint<span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// null</span><span class="token class-name">Hints</span> hints1 <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Hints</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hints1<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span><span class="token class-name">Hint</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hints2 <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getAnnotationsByType</span><span class="token punctuation">(</span><span class="token class-name">Hint</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hints2<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>尽管我们绝对不会在 <code>Person</code> 类上声明 <code>@Hints</code> 注解，但是它的信息仍然是可以通过 <code>getAnnotation(Hints.class)</code> 来读取的。<br>并且，<code>getAnnotationsByType</code> 方法会更方便，因为它赋予了所有 <code>@Hints</code> 注解标注的方法直接的访问权限。</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE_PARAMETER<span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE_USE<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>Java 8 新特性的编程指南到此就告一段落了。当然，还有很多内容需要进一步研究和说明。这就需要靠读者您来对 JDK 8 进一步探究了，<br>例如：<code>Arrays.parallelSort</code>, <code>StampedLock</code> 和 <code>CompletableFuture</code> 等等，我这里也仅是起到抛砖引玉的作用而已。</p><p>最后，我希望这个教程能够对您有所帮助，也希望您阅读愉快。</p><p>​        </p>]]></content>
      
      
      <categories>
          
          <category> jdk8 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> jdk8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SM3国密算法</title>
      <link href="/platform.github.io/2022/07/15/sm3/"/>
      <url>/platform.github.io/2022/07/15/sm3/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/** * 国密SM3，消息摘要 * * @author Luke */</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SM3Util</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token char">'0'</span><span class="token punctuation">,</span> <span class="token char">'1'</span><span class="token punctuation">,</span> <span class="token char">'2'</span><span class="token punctuation">,</span> <span class="token char">'3'</span><span class="token punctuation">,</span> <span class="token char">'4'</span><span class="token punctuation">,</span> <span class="token char">'5'</span><span class="token punctuation">,</span> <span class="token char">'6'</span><span class="token punctuation">,</span> <span class="token char">'7'</span><span class="token punctuation">,</span> <span class="token char">'8'</span><span class="token punctuation">,</span> <span class="token char">'9'</span><span class="token punctuation">,</span> <span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">,</span> <span class="token char">'C'</span><span class="token punctuation">,</span> <span class="token char">'D'</span><span class="token punctuation">,</span> <span class="token char">'E'</span><span class="token punctuation">,</span> <span class="token char">'F'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> IV <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0x73</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x80</span><span class="token punctuation">,</span> <span class="token number">0x16</span><span class="token punctuation">,</span> <span class="token number">0x6f</span><span class="token punctuation">,</span> <span class="token number">0x49</span><span class="token punctuation">,</span> <span class="token number">0x14</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb9</span><span class="token punctuation">,</span> <span class="token number">0x17</span><span class="token punctuation">,</span> <span class="token number">0x24</span><span class="token punctuation">,</span> <span class="token number">0x42</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd7</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xda</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8a</span><span class="token punctuation">,</span> <span class="token number">0x06</span><span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa9</span><span class="token punctuation">,</span> <span class="token number">0x6f</span><span class="token punctuation">,</span> <span class="token number">0x30</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xbc</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x16</span><span class="token punctuation">,</span> <span class="token number">0x31</span><span class="token punctuation">,</span>            <span class="token number">0x38</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xaa</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8d</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xee</span><span class="token punctuation">,</span> <span class="token number">0x4d</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xfb</span><span class="token punctuation">,</span> <span class="token number">0x0e</span><span class="token punctuation">,</span> <span class="token number">0x4e</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Integer</span> TJ_15 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">"79cc4519"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Integer</span> TJ_63 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">"7a879d8a"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name">FirstPadding</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x80</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name">ZeroPadding</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x00</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> TJ_15<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">16</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> <span class="token number">63</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> TJ_63<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"data invalid"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">FF</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> x<span class="token punctuation">,</span> <span class="token class-name">Integer</span> y<span class="token punctuation">,</span> <span class="token class-name">Integer</span> z<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">^</span> y<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">^</span> z<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">16</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> <span class="token number">63</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>                    <span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> y<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> z<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> z<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"data invalid"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">GG</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> x<span class="token punctuation">,</span> <span class="token class-name">Integer</span> y<span class="token punctuation">,</span> <span class="token class-name">Integer</span> z<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">^</span> y<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">^</span> z<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">16</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> <span class="token number">63</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> y<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token operator">~</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> z<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"data invalid"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">P0</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Integer</span>                <span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">P1</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> x<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">padding</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> source<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>length <span class="token operator">>=</span> <span class="token number">0</span>x2000000000000000L<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"src data invalid."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">long</span> l <span class="token operator">=</span> source<span class="token punctuation">.</span>length <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> k <span class="token operator">=</span> <span class="token number">448</span> <span class="token operator">-</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">512</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            k <span class="token operator">=</span> k <span class="token operator">+</span> <span class="token number">512</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">isDebugEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"k = "</span> <span class="token operator">+</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">ByteArrayOutputStream</span> baos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">FirstPadding</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">long</span> i <span class="token operator">=</span> k <span class="token operator">-</span> <span class="token number">7</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">ZeroPadding</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                i <span class="token operator">-=</span> <span class="token number">8</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">long2bytes</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">isDebugEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"paded size = "</span> <span class="token operator">+</span> baos<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> baos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">long2bytes</span><span class="token punctuation">(</span><span class="token keyword">long</span> l<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            bytes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>l <span class="token operator">>>></span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> bytes<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encodeSM3</span><span class="token punctuation">(</span><span class="token class-name">String</span> source<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token function">encodeSM3</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ConvertUtil</span><span class="token punctuation">.</span><span class="token function">byteToHex</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">encodeSM3</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> source<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> m1 <span class="token operator">=</span> <span class="token function">padding</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> m1<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">512</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>log<span class="token punctuation">.</span><span class="token function">isDebugEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"n = "</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b<span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vi <span class="token operator">=</span> IV<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vi1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            b <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>m1<span class="token punctuation">,</span> i <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            vi1 <span class="token operator">=</span> <span class="token function">CF</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>            vi <span class="token operator">=</span> vi1<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> vi1<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">CF</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vi<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bi<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">,</span> h<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        b <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        c <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        d <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        e <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        f <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        g <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        h <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>vi<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">68</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> w1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            w<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">toInteger</span><span class="token punctuation">(</span>bi<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">68</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            w<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">P1</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">16</span><span class="token punctuation">]</span> <span class="token operator">^</span> w<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">^</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>                    <span class="token operator">^</span> w<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">64</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            w1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> w<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">^</span> w<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> ss1<span class="token punctuation">,</span> ss2<span class="token punctuation">,</span> tt1<span class="token punctuation">,</span> tt2<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">64</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ss1 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">+</span> e <span class="token operator">+</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ss2 <span class="token operator">=</span> ss1 <span class="token operator">^</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            tt1 <span class="token operator">=</span> <span class="token function">FF</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">+</span> d <span class="token operator">+</span> ss2 <span class="token operator">+</span> w1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            tt2 <span class="token operator">=</span> <span class="token function">GG</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token operator">+</span> h <span class="token operator">+</span> ss1 <span class="token operator">+</span> w<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            d <span class="token operator">=</span> c<span class="token punctuation">;</span>            c <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            b <span class="token operator">=</span> a<span class="token punctuation">;</span>            a <span class="token operator">=</span> tt1<span class="token punctuation">;</span>            h <span class="token operator">=</span> g<span class="token punctuation">;</span>            g <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">rotateLeft</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            f <span class="token operator">=</span> e<span class="token punctuation">;</span>            e <span class="token operator">=</span> <span class="token function">P0</span><span class="token punctuation">(</span>tt2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> v <span class="token operator">=</span> <span class="token function">toByteArray</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">,</span> g<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">^</span> vi<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> v<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">toInteger</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> source<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StringBuilder</span> valueStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            valueStr<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>chars<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>index <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xF0</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            valueStr<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>chars<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>source<span class="token punctuation">[</span>index <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0x0F</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>valueStr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">,</span> <span class="token keyword">int</span> d<span class="token punctuation">,</span> <span class="token keyword">int</span> e<span class="token punctuation">,</span> <span class="token keyword">int</span> f<span class="token punctuation">,</span> <span class="token keyword">int</span> g<span class="token punctuation">,</span> <span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">ByteArrayOutputStream</span> baos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ByteArrayOutputStream</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            baos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">toByteArray</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> baos<span class="token punctuation">.</span><span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toByteArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> byteArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        byteArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>i <span class="token operator">>>></span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        byteArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">&amp;</span> <span class="token number">0xFFFFFF</span><span class="token punctuation">)</span> <span class="token operator">>>></span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        byteArray<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">&amp;</span> <span class="token number">0xFFFF</span><span class="token punctuation">)</span> <span class="token operator">>>></span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        byteArray<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>i <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> byteArray<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">SM3Util</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 非对称 </category>
          
          <category> 国密 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 非对称 </tag>
            
            <tag> 国密 </tag>
            
            <tag> sm3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SM4国密算法</title>
      <link href="/platform.github.io/2022/07/15/sm4/"/>
      <url>/platform.github.io/2022/07/15/sm4/</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/** * 国密SM4 * * @author Luke-lee */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SM4Util</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> iv <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> CODE_UTF8 <span class="token operator">=</span> <span class="token string">"UTF-8"</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PASSWORD_CRYPT_KEY <span class="token operator">=</span> <span class="token string">"CSSssDes"</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> KEY_ <span class="token operator">=</span> <span class="token string">"LUKE018YfzXjGB81"</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ROUND <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> ENCRYPT <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> DECRYPT <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> BLOCK <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name">Sbox</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd6</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x90</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe9</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xfe</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xcc</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe1</span><span class="token punctuation">,</span> <span class="token number">0x3d</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb7</span><span class="token punctuation">,</span> <span class="token number">0x16</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb6</span><span class="token punctuation">,</span> <span class="token number">0x14</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc2</span><span class="token punctuation">,</span> <span class="token number">0x28</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xfb</span><span class="token punctuation">,</span> <span class="token number">0x2c</span><span class="token punctuation">,</span> <span class="token number">0x05</span><span class="token punctuation">,</span> <span class="token number">0x2b</span><span class="token punctuation">,</span> <span class="token number">0x67</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x9a</span><span class="token punctuation">,</span>            <span class="token number">0x76</span><span class="token punctuation">,</span> <span class="token number">0x2a</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xbe</span><span class="token punctuation">,</span> <span class="token number">0x04</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xaa</span><span class="token punctuation">,</span> <span class="token number">0x44</span><span class="token punctuation">,</span> <span class="token number">0x13</span><span class="token punctuation">,</span> <span class="token number">0x26</span><span class="token punctuation">,</span> <span class="token number">0x49</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x86</span><span class="token punctuation">,</span> <span class="token number">0x06</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x99</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x9c</span><span class="token punctuation">,</span> <span class="token number">0x42</span><span class="token punctuation">,</span> <span class="token number">0x50</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x91</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xef</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x98</span><span class="token punctuation">,</span> <span class="token number">0x7a</span><span class="token punctuation">,</span> <span class="token number">0x33</span><span class="token punctuation">,</span> <span class="token number">0x54</span><span class="token punctuation">,</span>            <span class="token number">0x0b</span><span class="token punctuation">,</span> <span class="token number">0x43</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xed</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xcf</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xac</span><span class="token punctuation">,</span> <span class="token number">0x62</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb3</span><span class="token punctuation">,</span> <span class="token number">0x1c</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa9</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc9</span><span class="token punctuation">,</span> <span class="token number">0x08</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe8</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x95</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x80</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xdf</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x94</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xfa</span><span class="token punctuation">,</span> <span class="token number">0x75</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8f</span><span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa6</span><span class="token punctuation">,</span> <span class="token number">0x47</span><span class="token punctuation">,</span> <span class="token number">0x07</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa7</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xfc</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf3</span><span class="token punctuation">,</span> <span class="token number">0x73</span><span class="token punctuation">,</span> <span class="token number">0x17</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xba</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x83</span><span class="token punctuation">,</span> <span class="token number">0x59</span><span class="token punctuation">,</span> <span class="token number">0x3c</span><span class="token punctuation">,</span> <span class="token number">0x19</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe6</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x85</span><span class="token punctuation">,</span> <span class="token number">0x4f</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa8</span><span class="token punctuation">,</span> <span class="token number">0x68</span><span class="token punctuation">,</span> <span class="token number">0x6b</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x81</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb2</span><span class="token punctuation">,</span> <span class="token number">0x71</span><span class="token punctuation">,</span> <span class="token number">0x64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xda</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8b</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf8</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xeb</span><span class="token punctuation">,</span> <span class="token number">0x0f</span><span class="token punctuation">,</span> <span class="token number">0x4b</span><span class="token punctuation">,</span> <span class="token number">0x70</span><span class="token punctuation">,</span> <span class="token number">0x56</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x9d</span><span class="token punctuation">,</span> <span class="token number">0x35</span><span class="token punctuation">,</span> <span class="token number">0x1e</span><span class="token punctuation">,</span> <span class="token number">0x24</span><span class="token punctuation">,</span> <span class="token number">0x0e</span><span class="token punctuation">,</span> <span class="token number">0x5e</span><span class="token punctuation">,</span> <span class="token number">0x63</span><span class="token punctuation">,</span> <span class="token number">0x58</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa2</span><span class="token punctuation">,</span> <span class="token number">0x25</span><span class="token punctuation">,</span> <span class="token number">0x22</span><span class="token punctuation">,</span> <span class="token number">0x7c</span><span class="token punctuation">,</span> <span class="token number">0x3b</span><span class="token punctuation">,</span>            <span class="token number">0x01</span><span class="token punctuation">,</span> <span class="token number">0x21</span><span class="token punctuation">,</span> <span class="token number">0x78</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x87</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd4</span><span class="token punctuation">,</span> <span class="token number">0x00</span><span class="token punctuation">,</span> <span class="token number">0x46</span><span class="token punctuation">,</span> <span class="token number">0x57</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x9f</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd3</span><span class="token punctuation">,</span> <span class="token number">0x27</span><span class="token punctuation">,</span> <span class="token number">0x52</span><span class="token punctuation">,</span> <span class="token number">0x4c</span><span class="token punctuation">,</span>            <span class="token number">0x36</span><span class="token punctuation">,</span> <span class="token number">0x02</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe7</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc8</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x9e</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xea</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xbf</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8a</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd2</span><span class="token punctuation">,</span> <span class="token number">0x40</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc7</span><span class="token punctuation">,</span> <span class="token number">0x38</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf7</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf2</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xce</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf9</span><span class="token punctuation">,</span> <span class="token number">0x61</span><span class="token punctuation">,</span> <span class="token number">0x15</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xae</span><span class="token punctuation">,</span> <span class="token number">0x5d</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x9b</span><span class="token punctuation">,</span>            <span class="token number">0x34</span><span class="token punctuation">,</span> <span class="token number">0x1a</span><span class="token punctuation">,</span> <span class="token number">0x55</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xad</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x93</span><span class="token punctuation">,</span> <span class="token number">0x32</span><span class="token punctuation">,</span> <span class="token number">0x30</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8c</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe3</span><span class="token punctuation">,</span>            <span class="token number">0x1d</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf6</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe2</span><span class="token punctuation">,</span> <span class="token number">0x2e</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x82</span><span class="token punctuation">,</span> <span class="token number">0x66</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xca</span><span class="token punctuation">,</span> <span class="token number">0x60</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc0</span><span class="token punctuation">,</span> <span class="token number">0x29</span><span class="token punctuation">,</span> <span class="token number">0x23</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xab</span><span class="token punctuation">,</span> <span class="token number">0x0d</span><span class="token punctuation">,</span> <span class="token number">0x53</span><span class="token punctuation">,</span> <span class="token number">0x4e</span><span class="token punctuation">,</span> <span class="token number">0x6f</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xdb</span><span class="token punctuation">,</span> <span class="token number">0x37</span><span class="token punctuation">,</span> <span class="token number">0x45</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xde</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xfd</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8e</span><span class="token punctuation">,</span> <span class="token number">0x2f</span><span class="token punctuation">,</span> <span class="token number">0x03</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xff</span><span class="token punctuation">,</span> <span class="token number">0x6a</span><span class="token punctuation">,</span> <span class="token number">0x72</span><span class="token punctuation">,</span> <span class="token number">0x6d</span><span class="token punctuation">,</span> <span class="token number">0x6c</span><span class="token punctuation">,</span> <span class="token number">0x5b</span><span class="token punctuation">,</span> <span class="token number">0x51</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x8d</span><span class="token punctuation">,</span> <span class="token number">0x1b</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xaf</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x92</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xbb</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xdd</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xbc</span><span class="token punctuation">,</span> <span class="token number">0x7f</span><span class="token punctuation">,</span> <span class="token number">0x11</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd9</span><span class="token punctuation">,</span> <span class="token number">0x5c</span><span class="token punctuation">,</span> <span class="token number">0x41</span><span class="token punctuation">,</span> <span class="token number">0x1f</span><span class="token punctuation">,</span> <span class="token number">0x10</span><span class="token punctuation">,</span> <span class="token number">0x5a</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd8</span><span class="token punctuation">,</span> <span class="token number">0x0a</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc1</span><span class="token punctuation">,</span> <span class="token number">0x31</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x88</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xa5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xcd</span><span class="token punctuation">,</span> <span class="token number">0x7b</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xbd</span><span class="token punctuation">,</span> <span class="token number">0x2d</span><span class="token punctuation">,</span> <span class="token number">0x74</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd0</span><span class="token punctuation">,</span> <span class="token number">0x12</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb8</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xe5</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb4</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x89</span><span class="token punctuation">,</span> <span class="token number">0x69</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x97</span><span class="token punctuation">,</span> <span class="token number">0x4a</span><span class="token punctuation">,</span>            <span class="token number">0x0c</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x96</span><span class="token punctuation">,</span> <span class="token number">0x77</span><span class="token punctuation">,</span> <span class="token number">0x7e</span><span class="token punctuation">,</span> <span class="token number">0x65</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xb9</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf1</span><span class="token punctuation">,</span> <span class="token number">0x09</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc5</span><span class="token punctuation">,</span> <span class="token number">0x6e</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xc6</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0x84</span><span class="token punctuation">,</span> <span class="token number">0x18</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xf0</span><span class="token punctuation">,</span> <span class="token number">0x7d</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xec</span><span class="token punctuation">,</span> <span class="token number">0x3a</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xdc</span><span class="token punctuation">,</span> <span class="token number">0x4d</span><span class="token punctuation">,</span> <span class="token number">0x20</span><span class="token punctuation">,</span> <span class="token number">0x79</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xee</span><span class="token punctuation">,</span> <span class="token number">0x5f</span><span class="token punctuation">,</span>            <span class="token number">0x3e</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xd7</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0xcb</span><span class="token punctuation">,</span> <span class="token number">0x39</span><span class="token punctuation">,</span> <span class="token number">0x48</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> CK <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">0x00070e15</span><span class="token punctuation">,</span> <span class="token number">0x1c232a31</span><span class="token punctuation">,</span> <span class="token number">0x383f464d</span><span class="token punctuation">,</span> <span class="token number">0x545b6269</span><span class="token punctuation">,</span> <span class="token number">0x70777e85</span><span class="token punctuation">,</span> <span class="token number">0x8c939aa1</span><span class="token punctuation">,</span> <span class="token number">0xa8afb6bd</span><span class="token punctuation">,</span> <span class="token number">0xc4cbd2d9</span><span class="token punctuation">,</span>            <span class="token number">0xe0e7eef5</span><span class="token punctuation">,</span> <span class="token number">0xfc030a11</span><span class="token punctuation">,</span> <span class="token number">0x181f262d</span><span class="token punctuation">,</span> <span class="token number">0x343b4249</span><span class="token punctuation">,</span> <span class="token number">0x50575e65</span><span class="token punctuation">,</span> <span class="token number">0x6c737a81</span><span class="token punctuation">,</span> <span class="token number">0x888f969d</span><span class="token punctuation">,</span> <span class="token number">0xa4abb2b9</span><span class="token punctuation">,</span> <span class="token number">0xc0c7ced5</span><span class="token punctuation">,</span>            <span class="token number">0xdce3eaf1</span><span class="token punctuation">,</span> <span class="token number">0xf8ff060d</span><span class="token punctuation">,</span> <span class="token number">0x141b2229</span><span class="token punctuation">,</span> <span class="token number">0x30373e45</span><span class="token punctuation">,</span> <span class="token number">0x4c535a61</span><span class="token punctuation">,</span> <span class="token number">0x686f767d</span><span class="token punctuation">,</span> <span class="token number">0x848b9299</span><span class="token punctuation">,</span> <span class="token number">0xa0a7aeb5</span><span class="token punctuation">,</span> <span class="token number">0xbcc3cad1</span><span class="token punctuation">,</span>            <span class="token number">0xd8dfe6ed</span><span class="token punctuation">,</span> <span class="token number">0xf4fb0209</span><span class="token punctuation">,</span> <span class="token number">0x10171e25</span><span class="token punctuation">,</span> <span class="token number">0x2c333a41</span><span class="token punctuation">,</span> <span class="token number">0x484f565d</span><span class="token punctuation">,</span> <span class="token number">0x646b7279</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encodeSMS4</span><span class="token punctuation">(</span><span class="token class-name">String</span> plaintext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">SM4Util</span><span class="token punctuation">.</span><span class="token function">encodeSMS4</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encodeSMS4</span><span class="token punctuation">(</span><span class="token class-name">String</span> plaintext<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token function">encryptDES</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span>CODE_UTF8<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> rstr <span class="token operator">=</span> <span class="token class-name">SM4Util</span><span class="token punctuation">.</span><span class="token function">encodeSMS4</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">ConvertUtil</span><span class="token punctuation">.</span><span class="token function">byteToHex</span><span class="token punctuation">(</span>rstr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 不限明文长度的SMS4加密     *     * @param plaintext     * @param key     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">encodeSMS4</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> plaintext<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ciphertext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>plaintext<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> plainLen <span class="token operator">=</span> plaintext<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">16</span> <span class="token operator">&lt;=</span> plainLen<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cellPlain <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">,</span> k<span class="token punctuation">,</span> cellPlain<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cellCipher <span class="token operator">=</span> <span class="token function">encode16</span><span class="token punctuation">(</span>cellPlain<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>cellCipher<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> ciphertext<span class="token punctuation">,</span> k<span class="token punctuation">,</span> cellCipher<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            k <span class="token operator">+=</span> <span class="token number">16</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ciphertext<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 不限明文长度的SMS4解密     *     * @param ciphertext     * @param key     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">decodeSMS4</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ciphertext<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> plaintext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>ciphertext<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cipherLen <span class="token operator">=</span> ciphertext<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">16</span> <span class="token operator">&lt;=</span> cipherLen<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cellCipher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>ciphertext<span class="token punctuation">,</span> k<span class="token punctuation">,</span> cellCipher<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cellPlain <span class="token operator">=</span> <span class="token function">decode16</span><span class="token punctuation">(</span>cellCipher<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>cellPlain<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> plaintext<span class="token punctuation">,</span> k<span class="token punctuation">,</span> cellPlain<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            k <span class="token operator">+=</span> <span class="token number">16</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> plaintext<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 解密，获得明文字符串     *     * @param ciphertext 内容     * @param code       编码     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">decodeSMS4toString</span><span class="token punctuation">(</span><span class="token class-name">String</span> ciphertext<span class="token punctuation">,</span> <span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>ciphertext<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token class-name">ConvertUtil</span><span class="token punctuation">.</span><span class="token function">hexStringToBytes</span><span class="token punctuation">(</span>ciphertext<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> plaintext <span class="token operator">=</span> <span class="token function">decodeSMS4</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> KEY_<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">decryptDES</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 解密，获得明文字符串     *     * @param ciphertext 内容     * @param key        秘钥     * @param code       编码     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">decodeSMS4toString</span><span class="token punctuation">(</span><span class="token class-name">String</span> ciphertext<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>ciphertext<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token class-name">ConvertUtil</span><span class="token punctuation">.</span><span class="token function">hexStringToBytes</span><span class="token punctuation">(</span>ciphertext<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> plaintext <span class="token operator">=</span> <span class="token function">decodeSMS4</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">decryptDES</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">encode16</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> plaintext<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> key_ <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            key_ <span class="token operator">=</span> KEY_<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            key_ <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cipher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token class-name">SM4Util</span> sm4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SM4Util</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        sm4<span class="token punctuation">.</span><span class="token function">sms4</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> key_<span class="token punctuation">,</span> cipher<span class="token punctuation">,</span> ENCRYPT<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> cipher<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 只加密16位明文     *     * @param plaintext     * @param key     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> plaintext<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> key_ <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            key_ <span class="token operator">=</span> KEY_<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            key_ <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cipher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token class-name">SM4Util</span> sm4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SM4Util</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        sm4<span class="token punctuation">.</span><span class="token function">sms4</span><span class="token punctuation">(</span>plaintext<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> key_<span class="token punctuation">,</span> cipher<span class="token punctuation">,</span> ENCRYPT<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> cipher<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 只解密16位密文     *     * @param ciphertext     * @param key     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">decode16</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ciphertext<span class="token punctuation">,</span> <span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> plain <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token class-name">SM4Util</span> sm4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SM4Util</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        sm4<span class="token punctuation">.</span><span class="token function">sms4</span><span class="token punctuation">(</span>ciphertext<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> key<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plain<span class="token punctuation">,</span> DECRYPT<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> plain<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">sms4</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> in<span class="token punctuation">,</span> <span class="token keyword">int</span> inLen<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> key<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> out<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token class-name">CryptFlag</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> point <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> round_key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>ROUND<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token class-name">SMS4KeyExt</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> round_key<span class="token punctuation">,</span> <span class="token class-name">CryptFlag</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> input<span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> output <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>inLen <span class="token operator">>=</span> BLOCK<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            input <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>in<span class="token punctuation">,</span> point<span class="token punctuation">,</span> point <span class="token operator">+</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">SMS4Crypt</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> output<span class="token punctuation">,</span> round_key<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>output<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> out<span class="token punctuation">,</span> point<span class="token punctuation">,</span> BLOCK<span class="token punctuation">)</span><span class="token punctuation">;</span>            inLen <span class="token operator">-=</span> BLOCK<span class="token punctuation">;</span>            point <span class="token operator">+=</span> BLOCK<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">Rotl</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> x <span class="token operator">&lt;&lt;</span> y <span class="token operator">|</span> x <span class="token operator">>>></span> <span class="token punctuation">(</span><span class="token number">32</span> <span class="token operator">-</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token class-name">A</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">Sbox</span><span class="token punctuation">[</span><span class="token class-name">A</span> <span class="token operator">>>></span> <span class="token number">24</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">24</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token class-name">Sbox</span><span class="token punctuation">[</span><span class="token class-name">A</span> <span class="token operator">>>></span> <span class="token number">16</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span>                <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token class-name">Sbox</span><span class="token punctuation">[</span><span class="token class-name">A</span> <span class="token operator">>>></span> <span class="token number">8</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token class-name">Sbox</span><span class="token punctuation">[</span><span class="token class-name">A</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">L1</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token class-name">B</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">B</span> <span class="token operator">^</span> <span class="token class-name">Rotl</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Rotl</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Rotl</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Rotl</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">L2</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token class-name">B</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">B</span> <span class="token operator">^</span> <span class="token class-name">Rotl</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token class-name">Rotl</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token class-name">SMS4Crypt</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name">Input</span><span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name">Output</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> rk<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> r<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> x0<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> x3<span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Input</span><span class="token punctuation">[</span><span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Input</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Input</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Input</span><span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>            x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">24</span> <span class="token operator">|</span> tmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span> <span class="token operator">|</span> tmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span> <span class="token operator">|</span> tmp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> <span class="token number">32</span><span class="token punctuation">;</span> r <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^</span> rk<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> <span class="token function">L1</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x4</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> rk<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> <span class="token function">L1</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x5</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> rk<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^</span> <span class="token function">L1</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x6</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^</span> rk<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^</span> <span class="token function">L1</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// x7</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// Reverse</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">;</span> j <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Output</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">-</span> j <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">>>></span> <span class="token number">24</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Output</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">-</span> j <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">>>></span> <span class="token number">16</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Output</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">-</span> j <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">>>></span> <span class="token number">8</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Output</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">-</span> j <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token class-name">SMS4KeyExt</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name">Key</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> rk<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token class-name">CryptFlag</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> r<span class="token punctuation">,</span> mid<span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>            tmp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token number">3</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xff</span><span class="token punctuation">;</span>            x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">24</span> <span class="token operator">|</span> tmp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">16</span> <span class="token operator">|</span> tmp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token number">8</span> <span class="token operator">|</span> tmp<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token number">0xa3b1bac6</span><span class="token punctuation">;</span>        x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token number">0x56aa3350</span><span class="token punctuation">;</span>        x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token number">0x677d9197</span><span class="token punctuation">;</span>        x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token number">0xb27022dc</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> <span class="token number">32</span><span class="token punctuation">;</span> r <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^</span> CK<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            rk<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token function">L2</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// rk0=K4</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> CK<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            rk<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token function">L2</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// rk1=K5</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> CK<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            rk<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token function">L2</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// rk2=K6</span>            mid <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">^</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">^</span> CK<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            mid <span class="token operator">=</span> <span class="token class-name">ByteSub</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>            rk<span class="token punctuation">[</span>r <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">^=</span> <span class="token function">L2</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// rk3=K7</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// 解密时轮密钥使用顺序：rk31,rk30,...,rk0</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CryptFlag</span> <span class="token operator">==</span> DECRYPT<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> r <span class="token operator">&lt;</span> <span class="token number">16</span><span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                mid <span class="token operator">=</span> rk<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>                rk<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> rk<span class="token punctuation">[</span><span class="token number">31</span> <span class="token operator">-</span> r<span class="token punctuation">]</span><span class="token punctuation">;</span>                rk<span class="token punctuation">[</span><span class="token number">31</span> <span class="token operator">-</span> r<span class="token punctuation">]</span> <span class="token operator">=</span> mid<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * Str转16位     *     * @param encryptString     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">encryptDES</span><span class="token punctuation">(</span><span class="token class-name">String</span> encryptString<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">IvParameterSpec</span> zeroIv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IvParameterSpec</span><span class="token punctuation">(</span>iv<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SecretKeySpec</span> key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SecretKeySpec</span><span class="token punctuation">(</span>PASSWORD_CRYPT_KEY<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"DES"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Cipher</span> cipher <span class="token operator">=</span> <span class="token class-name">Cipher</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"DES/CBC/PKCS5Padding"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cipher<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">Cipher</span><span class="token punctuation">.</span>ENCRYPT_MODE<span class="token punctuation">,</span> key<span class="token punctuation">,</span> zeroIv<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> encryptedData <span class="token operator">=</span> cipher<span class="token punctuation">.</span><span class="token function">doFinal</span><span class="token punctuation">(</span>encryptString<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> hexString <span class="token operator">=</span> <span class="token function">parseByte2HexStr</span><span class="token punctuation">(</span>encryptedData<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> hexString<span class="token punctuation">;</span>        <span class="token comment">// return Base64.encode(encryptedData);</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * 16位转str     *     * @param decrypt     * @param code     * @return     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">decryptDES</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> decrypt<span class="token punctuation">,</span> <span class="token class-name">String</span> code<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> byteMi <span class="token operator">=</span> <span class="token function">hex2byte</span><span class="token punctuation">(</span>decrypt<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">IvParameterSpec</span> zeroIv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IvParameterSpec</span><span class="token punctuation">(</span>iv<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SecretKeySpec</span> key <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SecretKeySpec</span><span class="token punctuation">(</span>PASSWORD_CRYPT_KEY<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"DES"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Cipher</span> cipher <span class="token operator">=</span> <span class="token class-name">Cipher</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">"DES/CBC/PKCS5Padding"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cipher<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">Cipher</span><span class="token punctuation">.</span>DECRYPT_MODE<span class="token punctuation">,</span> key<span class="token punctuation">,</span> zeroIv<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span> decryptedData<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> cipher<span class="token punctuation">.</span><span class="token function">doFinal</span><span class="token punctuation">(</span>byteMi<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasText</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            code <span class="token operator">=</span> CODE_UTF8<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>decryptedData<span class="token punctuation">,</span> code<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">parseByte2HexStr</span><span class="token punctuation">(</span><span class="token keyword">byte</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StringBuffer</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> buf<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> hex <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toHexString</span><span class="token punctuation">(</span>buf<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>hex<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                hex <span class="token operator">=</span> <span class="token char">'0'</span> <span class="token operator">+</span> hex<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            sb<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>hex<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> sb<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">hex2byte</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>length <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"长度不是偶数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>b<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span> n <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">String</span> item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            b2<span class="token punctuation">[</span>n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> b2<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">private</span> <span class="token class-name">SM4Util</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 对称 </category>
          
          <category> 国密 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 国密 </tag>
            
            <tag> 对称 </tag>
            
            <tag> sm4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开发说明|规范</title>
      <link href="/platform.github.io/2022/07/15/standard/"/>
      <url>/platform.github.io/2022/07/15/standard/</url>
      
        <content type="html"><![CDATA[<h2 id="开发说明"><a href="#开发说明" class="headerlink" title="开发说明"></a>开发说明</h2><h3 id="EnableCustomConfig"><a href="#EnableCustomConfig" class="headerlink" title="@EnableCustomConfig"></a>@EnableCustomConfig</h3><p>服务启动类可以通过<code>@EnableCustomConfig </code>进行服务的初始化配置。该注解主要有以下几个作用：</p><ol><li>MappScan扫描支持</li><li>ComponentScan扫描支持</li></ol><h3 id="EnableCustomSwagger2"><a href="#EnableCustomSwagger2" class="headerlink" title="@EnableCustomSwagger2"></a>@EnableCustomSwagger2</h3><p><code>@EnableCustomSwagger2</code> 对在线api文档支持，&#x2F;doc.html访问swagger加强</p><h3 id="LoginUser"><a href="#LoginUser" class="headerlink" title="@LoginUser"></a>@LoginUser</h3><p>在controller参数中通过<code>@LoginUser SysUser loginUser</code> 获取当前登录用户<br><strong>示例</strong><br> <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/functions/manage"</span><span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"application/json; charset=utf-8"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">queryManageFunctions</span><span class="token punctuation">(</span><span class="token annotation punctuation">@LoginUser</span> <span class="token class-name">SysUser</span> loginUser<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ... </span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></p><h3 id="Log-title-x3D-“设计”-businessType-x3D-BusinessType-INSERT"><a href="#Log-title-x3D-“设计”-businessType-x3D-BusinessType-INSERT" class="headerlink" title="@Log(title &#x3D; “设计”, businessType &#x3D; BusinessType.INSERT)"></a>@Log(title &#x3D; “设计”, businessType &#x3D; BusinessType.INSERT)</h3><p>在controller方法上通过注解<code>@Log </code>实现操作日志收集(主要针对曾、删、改操作)<br><strong>示例</strong><br> <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"保存"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Log</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"XXX保存"</span><span class="token punctuation">,</span> businessType <span class="token operator">=</span> <span class="token class-name">BusinessType</span><span class="token punctuation">.</span>INSERT<span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">ResObject</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Validated</span><span class="token punctuation">(</span><span class="token class-name">ValidType<span class="token punctuation">.</span>Default</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">BpmDefinitionDesignVO</span> vo<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></p><h3 id="Valid"><a href="#Valid" class="headerlink" title="@Valid"></a>@Valid</h3><p><code>@Valid</code>会对被标注的controller入参类进行参数校验</p><p>被标注的类中有<code>@Length</code>注解标注的字段，则该字段不能超过指定长度</p><p>被标注的类有<code>@NotBlank</code>注解标注的字段，则该字段不能为空</p><p>更多参数校验注解请参考hibernate validator</p><p>当校验条件不满足的时候，会进入统一异常处理，统一异常处理会给前端返回code为0，message为指定message的消息</p><p><strong>示例</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">DeptBasic</span> dept<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptBasic</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"部门名称不可为空"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> jgMc<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Length</span><span class="token punctuation">(</span>max <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"选用标志长度最大为1"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> xybs<span class="token punctuation">;</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="开发规范"><a href="#开发规范" class="headerlink" title="开发规范"></a>开发规范</h2><h3 id="数据格式"><a href="#数据格式" class="headerlink" title="数据格式"></a>数据格式</h3><h4 id="1-写好代码注释，统一格式"><a href="#1-写好代码注释，统一格式" class="headerlink" title="1.写好代码注释，统一格式"></a>1.写好代码注释，统一格式</h4><p>类注释：<br>&#x2F;**</p><ul><li>@author 作者</li><li>@Description 描述</li><li>@Date 日期（年月日时分秒）<br>*&#x2F;</li></ul><p>方法注释：</p><p>&#x2F;**</p><ul><li>@param formId  参数1描述</li><li>@param instId  参数2描述</li><li>@param taskKey 参数3描述</li><li>@return  ResObject 返回描述<br>*&#x2F;</li></ul><h4 id="2-返回格式统一-“code”-””-”message”-””-”data”-””"><a href="#2-返回格式统一-“code”-””-”message”-””-”data”-””" class="headerlink" title="2.返回格式统一{“code”:””,”message”:””,”data”:””}"></a>2.返回格式统一{“code”:””,”message”:””,”data”:””}</h4><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td>code</td><td>200表示操作成功</td></tr><tr><td>message</td><td>提示信息</td></tr><tr><td>data</td><td>返回数据</td></tr></tbody></table><h4 id="3-做好异常处理"><a href="#3-做好异常处理" class="headerlink" title="3.做好异常处理"></a>3.做好异常处理</h4><p>所有接口都必须有异常抛出，在controller里捕获所有异常并做处理<br><strong>示例</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/getData"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"application/json; charset=utf-8"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>   <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"获取表单数据"</span><span class="token punctuation">,</span> httpMethod <span class="token operator">=</span> <span class="token string">"GET"</span><span class="token punctuation">,</span> notes <span class="token operator">=</span> <span class="token string">"获取表单数据"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token class-name">ResObject</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token class-name">String</span> formId<span class="token punctuation">,</span> <span class="token class-name">String</span> instId<span class="token punctuation">,</span> <span class="token class-name">String</span> taskKey<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>           <span class="token class-name">List</span> result <span class="token operator">=</span> formDataService<span class="token punctuation">.</span><span class="token function">getDatas</span><span class="token punctuation">(</span>formId<span class="token punctuation">,</span> instId<span class="token punctuation">,</span> taskKey<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResObject</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"获取表单数据成功"</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">BusinessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//业务异常捕获</span>           log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResObject</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//程序异常捕获</span>           log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"获取表单数据失败"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResObject</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"获取表单数据失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-请求路劲规范"><a href="#4-请求路劲规范" class="headerlink" title="4.请求路劲规范"></a>4.请求路劲规范</h4><p>常规请求统一路径：<br>1.分页列表请求 GET &#x2F;modelName&#x2F;list<br>示例：</p><pre class="line-numbers language-none"><code class="language-none">@GetMapping(&quot;list&quot;)@ApiOperation(value &#x3D; &quot;流程定义列表&quot;)@Log(title &#x3D; &quot;流程设计&quot;, businessType &#x3D; BusinessType.INSERT)public ResObject list(@LoginUser SysUser sysUser, BpmDefinitionDesignVO vo) &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>详情请求 GET &#x2F;modelName&#x2F;{modelId}</p><pre class="line-numbers language-none"><code class="language-none">@GetMapping(value &#x3D; &#123;&quot;&#x2F;&quot;, &quot;&#x2F;&#123;modelId&#125;&quot;&#125;)@ApiOperation(value &#x3D; &quot;获取用户信息&quot;)public ResObject getUser(@PathVariable(value &#x3D; &quot;modelId&quot;, required &#x3D; true) String modelId)) &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2.保存请求 POST &#x2F;modelName&#x2F;<br>示例：</p><pre class="line-numbers language-none"><code class="language-none">@PostMapping(&quot;&quot;)@ApiOperation(value &#x3D; &quot;定义保存&quot;)@Log(title &#x3D; &quot;设计&quot;, businessType &#x3D; BusinessType.INSERT)public ResObject saveDefinition(@LoginUser SysUser sysUser, @Validated(ValidType.Default.class) @RequestBody DefinitionDesignVO vo) &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3.更新请求 PUT &#x2F;modelName&#x2F;<br>示例：</p><pre class="line-numbers language-none"><code class="language-none">@PutMapping(&quot;&quot;)@ApiOperation(value &#x3D; &quot;定义更新&quot;)@Log(title &#x3D; &quot;设计&quot;, businessType &#x3D; BusinessType.UPDATE)public ResObject updateDefinition(@LoginUser SysUser sysUser, @Validated(ValidType.Default.class) @RequestBody DefinitionDesignVO vo) &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>4.删除请求 DELETE &#x2F;modelName&#x2F;</p><pre class="line-numbers language-none"><code class="language-none">@DeleteMapping(&quot;&quot;)@ApiOperation(value &#x3D; &quot;定义删除&quot;)@Log(title &#x3D; &quot;设计&quot;, businessType &#x3D; BusinessType.DELETE)public ResObject deleteDefinition(@LoginUser SysUser sysUser,DefinitionDesignVO vo) &#123;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="5-feign"><a href="#5-feign" class="headerlink" title="5.feign"></a>5.feign</h4><p>以feign形式提供接口服务，接口地址统一“&#x2F;api”开头</p><h4 id="6-mybatis-plus"><a href="#6-mybatis-plus" class="headerlink" title="6.mybatis-plus"></a>6.mybatis-plus</h4><p>mapper、dao 继承类BaseMapper<T>，并在T实体类上添加@TableName、@TableId注解<br><strong>示例</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@TableName</span><span class="token punctuation">(</span><span class="token string">"sys_unit"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysUnit</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// ...实体类</span>    <span class="token comment">/**     * 机构主键     */</span>    <span class="token annotation punctuation">@TableId</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> unitId<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SysUnitMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SysUnit</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span> <span class="token comment">// ...mapper || dao接口类 肠过操作可以省略代码块及自动映射</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="7-版本管理提交格式"><a href="#7-版本管理提交格式" class="headerlink" title="7.版本管理提交格式"></a>7.版本管理提交格式</h4><p>1.git版本管理提交：<br>add：新增XXX功能<br>fix：修复XXXbug  ||  完善XXX功能</p><p>2.svn版本管理提交：<br>【提交人】XXX<br>【处理模块】工作流表单服务<br>【解决问题】新增添加表单保存接口</p><h4 id="8-代码生成"><a href="#8-代码生成" class="headerlink" title="8.代码生成"></a>8.代码生成</h4><p>地址：<br><a href="http://192.168.6.116:8080/">http://192.168.6.116:8080</a><br>需要先设计数据库表，根据表结构生成controller\service\dao\entity\mapper.xml等相关代码文件</p><h4 id="9-license存放位置"><a href="#9-license存放位置" class="headerlink" title="9.license存放位置"></a>9.license存放位置</h4><p>win：将license文件存放到应用所在的磁盘根路径&#x2F;opt&#x2F;license&#x2F;文件夹下<br>linux：将license文件存放到&#x2F;opt&#x2F;license&#x2F;文件夹下</p>]]></content>
      
      
      <categories>
          
          <category> 开发规范 </category>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> 开发规范 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>工作流</title>
      <link href="/platform.github.io/2022/07/11/engine/"/>
      <url>/platform.github.io/2022/07/11/engine/</url>
      
        <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>工作流基于activity开源框架做二次封装功能，支持中国特色工作流：有撤回、驳回、驳回发起人、驳回上一步、任意节点驳回、驳回后直达驳回节点、任意节点跳转、会签后根据会签结果走不同出口、会签加签、减签等等。</p><p><img src="/platform.github.io/medias/pic/%E6%B5%81%E7%A8%8B%E8%AE%BE%E8%AE%A1%E5%9B%BE.png" alt="流程设计"></p>]]></content>
      
      
      <categories>
          
          <category> 工作流 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工作流 </tag>
            
            <tag> activity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>玄剑中台</title>
      <link href="/platform.github.io/2022/07/08/index/"/>
      <url>/platform.github.io/2022/07/08/index/</url>
      
        <content type="html"><![CDATA[<h2 id="架构图"><a href="#架构图" class="headerlink" title="架构图"></a>架构图</h2><p><img src="/platform.github.io/medias/pic/jgt.JPG" alt="架构图"></p><h2 id="部署图"><a href="#部署图" class="headerlink" title="部署图"></a>部署图</h2><p><img src="/platform.github.io/medias/pic/%E9%83%A8%E7%BD%B2%E5%9B%BE.png" alt="部署图"></p>]]></content>
      
      
      <categories>
          
          <category> 中台 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 中台 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
